{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\hotel_ai_assistant\\\\hotel_dashboard\\\\src\\\\components\\\\dashboard\\\\PremiumDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { CheckCircle, Clock, DollarSign, Activity, Home, Users, Phone } from 'lucide-react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } from 'recharts';\nimport { getDashboardSummary, getStatsSummary, getPropertyTasks, updatePropertyTaskStatus } from '../../services/api';\nimport StaffGrid from './StaffGrid';\nimport AirbnbImporter from './AirbnbImporter';\nimport GuestChatFeed from '../guest/GuestChatFeed';\nimport PropertyCreatorModal from './PropertyCreatorModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TASK_CHART_COLORS = ['#3b82f6', '#10b981'];\nconst PIE_COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899'];\nconst TaskTimeline = ({\n  tasks,\n  loading,\n  onToggleStatus = () => {}\n}) => {\n  const mapStatus = s => {\n    if (!s) return 'pending';\n    if (s === 'Done' || s === 'done' || s === 'Completed' || s === 'completed') return 'completed';\n    return 'pending';\n  };\n  const formatTime = dueAt => {\n    if (!dueAt) return '—';\n    try {\n      const d = new Date(dueAt);\n      return d.toLocaleTimeString('he-IL', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return typeof dueAt === 'string' && dueAt.length >= 16 ? dueAt.slice(11, 16) : '—';\n    }\n  };\n  const list = Array.isArray(tasks) ? tasks.slice(0, 12) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-gray-900/50 dark:bg-gray-800/80 rounded-3xl shadow-xl border border-gray-700/50 dark:border-gray-600/50 backdrop-blur-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-100 dark:text-white\",\n        children: \"\\u05E8\\u05E9\\u05D9\\u05DE\\u05EA \\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"px-3 py-1 bg-emerald-500/20 text-emerald-400 text-xs font-semibold rounded-full border border-emerald-500/30\",\n        children: \"LIVE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-8 text-center text-gray-400 dark:text-gray-500\",\n      children: \"\\u05D8\\u05D5\\u05E2\\u05DF...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this) : list.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-8 text-center text-gray-400 dark:text-gray-500\",\n      children: \"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05DB\\u05E8\\u05D2\\u05E2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: list.map((task, index) => {\n        const status = mapStatus(task.status);\n        const displayName = task.property_name || task.room || 'נכס';\n        const capacity = task.property_context || '';\n        const timeStr = formatTime(task.due_at || task.created_at);\n        const isDone = status === 'completed';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex gap-4 p-4 rounded-2xl bg-gray-800/60 dark:bg-gray-700/40 border border-gray-700/50 dark:border-gray-600/40 hover:border-gray-600/60 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `z-10 w-9 h-9 rounded-xl flex items-center justify-center shrink-0 ${isDone ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' : 'bg-amber-500/20 text-amber-400 border border-amber-500/30'}`,\n            children: isDone ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(Clock, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-bold text-gray-100 dark:text-white truncate\",\n                  children: displayName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 23\n                }, this), capacity && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400 dark:text-gray-400 mt-0.5\",\n                  children: capacity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500 dark:text-gray-400 shrink-0\",\n                children: timeStr\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center gap-x-3 gap-y-1 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400 dark:text-gray-400\",\n                children: task.staff_name || '—'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this), task.staff_phone ? /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `tel:${task.staff_phone.replace(/\\D/g, '')}`,\n                className: \"text-xs font-medium text-blue-400 hover:text-blue-300 hover:underline inline-flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(Phone, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 25\n                }, this), task.staff_phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => onToggleStatus(task.id, isDone ? 'Pending' : 'Done'),\n              className: `mt-3 inline-flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-lg transition-colors ${isDone ? 'text-amber-400 hover:bg-amber-500/20 border border-amber-500/30' : 'text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/30'}`,\n              children: isDone ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: \"\\u05D7\\u05D6\\u05E8\\u05D4 \\u05DC\\u05DE\\u05DE\\u05EA\\u05D9\\u05DF\"\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 25\n                }, this), \" \\u05E1\\u05DE\\u05DF \\u05DB\\u05D4\\u05D5\\u05E9\\u05DC\\u05DD\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_c = TaskTimeline;\nconst KPICard = ({\n  title,\n  value,\n  icon: Icon,\n  color\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white dark:bg-gray-800 p-6 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm flex items-center gap-4\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: `w-12 h-12 rounded-2xl flex items-center justify-center ${color}`,\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      size: 24\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500 dark:text-gray-400 font-medium\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-2xl font-black text-gray-800 dark:text-gray-100\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 122,\n  columnNumber: 3\n}, this);\n_c2 = KPICard;\nconst QuickActionStaff = ({\n  topStaff\n}) => {\n  const callPhone = phone => {\n    if (!phone) return;\n    window.location.href = `tel:${phone.replace(/\\D/g, '')}`;\n  };\n  if (!(topStaff !== null && topStaff !== void 0 && topStaff.length)) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-gray-900/50 dark:bg-gray-800/80 rounded-3xl border border-gray-700/50 dark:border-gray-600/50 shadow-xl backdrop-blur-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-bold text-gray-100 dark:text-white mb-4 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Phone, {\n        size: 20,\n        className: \"text-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), \"\\u05E7\\u05E9\\u05E8 \\u05DE\\u05D4\\u05D9\\u05E8\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: topStaff.map((s, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center p-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium text-gray-800 dark:text-gray-200\",\n          children: s.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `tel:${(s.phone || '').replace(/\\D/g, '')}`,\n          onClick: e => {\n            e.preventDefault();\n            callPhone(s.phone);\n          },\n          className: \"text-blue-600 dark:text-blue-400 font-medium text-sm hover:underline\",\n          children: s.phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_c3 = QuickActionStaff;\nexport default function PremiumDashboard() {\n  _s();\n  var _summary$revenue, _stats$total_properti, _stats$total_capacity, _stats$tasks_by_statu, _stats$tasks_by_statu2;\n  const [summary, setSummary] = useState(null);\n  const [stats, setStats] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [importSuccess, setImportSuccess] = useState(0);\n  const [showPropertyModal, setShowPropertyModal] = useState(false);\n  useEffect(() => {\n    let mounted = true;\n    const load = async () => {\n      setLoading(true);\n      try {\n        const [s, st, t] = await Promise.all([getDashboardSummary(), getStatsSummary(), getPropertyTasks()]);\n        if (mounted) {\n          setSummary(s);\n          setStats(st);\n          setTasks(Array.isArray(t) ? t : []);\n        }\n      } catch (e) {\n        if (mounted) {\n          setSummary({\n            revenue: '0₪',\n            active_tasks_count: 0,\n            status: 'Unavailable'\n          });\n          setStats({\n            total_properties: 0,\n            tasks_by_status: {\n              Pending: 0,\n              Done: 0\n            },\n            staff_workload: {},\n            total_capacity: 0,\n            top_staff: []\n          });\n          setTasks([]);\n        }\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    load();\n    return () => {\n      mounted = false;\n    };\n  }, [importSuccess]);\n  const handleMarkDone = useCallback(async taskId => {\n    try {\n      await updatePropertyTaskStatus(taskId, 'Done');\n      setTasks(prev => prev.map(t => t.id === taskId ? {\n        ...t,\n        status: 'Done'\n      } : t));\n    } catch (e) {\n      window.alert((e === null || e === void 0 ? void 0 : e.message) || 'Failed to update');\n    }\n  }, []);\n  const tasksByStatusData = stats !== null && stats !== void 0 && stats.tasks_by_status ? [{\n    name: 'ממתינות',\n    value: stats.tasks_by_status.Pending || 0,\n    fill: TASK_CHART_COLORS[0]\n  }, {\n    name: 'הושלמו',\n    value: stats.tasks_by_status.Done || 0,\n    fill: TASK_CHART_COLORS[1]\n  }] : [];\n  const staffWorkloadData = stats !== null && stats !== void 0 && stats.staff_workload ? Object.entries(stats.staff_workload).sort((a, b) => b[1] - a[1]).slice(0, 5).map(([name, count], i) => ({\n    name: name.length > 10 ? name.slice(0, 8) + '…' : name,\n    fullName: name,\n    tasks: count,\n    fill: PIE_COLORS[i % PIE_COLORS.length]\n  })) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900 p-8\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-end mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-black text-gray-900 dark:text-white\",\n          children: \"\\u05D1\\u05D5\\u05E7\\u05E8 \\u05D8\\u05D5\\u05D1, \\u05DE\\u05E0\\u05D4\\u05DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 dark:text-gray-400\",\n          children: \"\\u05DB\\u05DC \\u05D4\\u05E0\\u05DB\\u05E1\\u05D9\\u05DD \\u05E9\\u05DC\\u05DA \\u05EA\\u05D7\\u05EA \\u05E9\\u05DC\\u05D9\\u05D8\\u05D4. \\u05D4\\u05E0\\u05D4 \\u05DE\\u05D4 \\u05E9\\u05E7\\u05D5\\u05E8\\u05D4 \\u05D4\\u05D9\\u05D5\\u05DD.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowPropertyModal(true),\n        className: \"bg-black dark:bg-white text-white dark:text-gray-900 px-6 py-3 rounded-2xl font-bold hover:opacity-90 transition-all\",\n        children: \"+ \\u05D4\\u05D5\\u05E1\\u05E3 \\u05E0\\u05DB\\u05E1 \\u05D7\\u05D3\\u05E9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05D4\\u05DB\\u05E0\\u05E1\\u05D5\\u05EA \\u05D4\\u05D7\\u05D5\\u05D3\\u05E9\",\n        value: (_summary$revenue = summary === null || summary === void 0 ? void 0 : summary.revenue) !== null && _summary$revenue !== void 0 ? _summary$revenue : '₪0',\n        icon: DollarSign,\n        color: \"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05E0\\u05DB\\u05E1\\u05D9\\u05DD\",\n        value: String((_stats$total_properti = stats === null || stats === void 0 ? void 0 : stats.total_properties) !== null && _stats$total_properti !== void 0 ? _stats$total_properti : 0),\n        icon: Home,\n        color: \"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05E7\\u05D9\\u05D1\\u05D5\\u05DC\\u05EA \\u05DB\\u05D5\\u05DC\\u05DC\\u05EA\",\n        value: String((_stats$total_capacity = stats === null || stats === void 0 ? void 0 : stats.total_capacity) !== null && _stats$total_capacity !== void 0 ? _stats$total_capacity : 0),\n        icon: Users,\n        color: \"bg-violet-50 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05E4\\u05E2\\u05D9\\u05DC\\u05D5\\u05EA\",\n        value: String((_stats$tasks_by_statu = stats === null || stats === void 0 ? void 0 : (_stats$tasks_by_statu2 = stats.tasks_by_status) === null || _stats$tasks_by_statu2 === void 0 ? void 0 : _stats$tasks_by_statu2.Pending) !== null && _stats$tasks_by_statu !== void 0 ? _stats$tasks_by_statu : 0),\n        icon: Activity,\n        color: \"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(AirbnbImporter, {\n          onSuccess: () => setImportSuccess(n => n + 1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 min-h-[280px]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4\",\n              children: \"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05DC\\u05E4\\u05D9 \\u05E1\\u05D8\\u05D8\\u05D5\\u05E1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this), tasksByStatusData.some(d => d.value > 0) ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 200,\n              children: /*#__PURE__*/_jsxDEV(BarChart, {\n                data: tasksByStatusData,\n                layout: \"vertical\",\n                margin: {\n                  top: 5,\n                  right: 20,\n                  left: 0,\n                  bottom: 5\n                },\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\",\n                  stroke: \"#e5e7eb\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  type: \"number\",\n                  stroke: \"#6b7280\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  type: \"category\",\n                  dataKey: \"name\",\n                  width: 70,\n                  stroke: \"#6b7280\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  contentStyle: {\n                    backgroundColor: 'rgba(255,255,255,0.95)',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: 8\n                  },\n                  formatter: value => [value, 'משימות']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"value\",\n                  name: \"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA\",\n                  radius: [0, 4, 4, 0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\",\n              children: \"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800/60 dark:bg-gray-800/80 rounded-3xl border border-gray-700/50 dark:border-gray-600/50 shadow-xl backdrop-blur-sm p-6 min-h-[280px]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-bold text-gray-100 dark:text-white mb-4\",\n              children: \"\\u05E2\\u05D5\\u05DE\\u05E1 \\u05E2\\u05D5\\u05D1\\u05D3\\u05D9\\u05DD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), staffWorkloadData.length > 0 ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 200,\n              children: /*#__PURE__*/_jsxDEV(PieChart, {\n                children: [/*#__PURE__*/_jsxDEV(Pie, {\n                  data: staffWorkloadData,\n                  dataKey: \"tasks\",\n                  nameKey: \"fullName\",\n                  cx: \"50%\",\n                  cy: \"50%\",\n                  outerRadius: 70,\n                  label: ({\n                    fullName,\n                    tasks: t\n                  }) => `${fullName}: ${t}`,\n                  children: staffWorkloadData.map((entry, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                    fill: entry.fill\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: (v, n, props) => [`${props.payload.fullName}: ${v} משימות`, '']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\",\n              children: \"\\u05D0\\u05D9\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9\\u05DD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StaffGrid, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(TaskTimeline, {\n          tasks: tasks,\n          loading: loading,\n          onToggleStatus: handleToggleStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(QuickActionStaff, {\n          topStaff: stats === null || stats === void 0 ? void 0 : stats.top_staff\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GuestChatFeed, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PropertyCreatorModal, {\n      isOpen: showPropertyModal,\n      onClose: () => setShowPropertyModal(false),\n      onSuccess: () => setImportSuccess(n => n + 1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n_s(PremiumDashboard, \"IvNbGMWgCj3d5wsN+YIiN1J/gpg=\");\n_c4 = PremiumDashboard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"TaskTimeline\");\n$RefreshReg$(_c2, \"KPICard\");\n$RefreshReg$(_c3, \"QuickActionStaff\");\n$RefreshReg$(_c4, \"PremiumDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","CheckCircle","Clock","DollarSign","Activity","Home","Users","Phone","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","PieChart","Pie","Cell","Legend","getDashboardSummary","getStatsSummary","getPropertyTasks","updatePropertyTaskStatus","StaffGrid","AirbnbImporter","GuestChatFeed","PropertyCreatorModal","jsxDEV","_jsxDEV","Fragment","_Fragment","TASK_CHART_COLORS","PIE_COLORS","TaskTimeline","tasks","loading","onToggleStatus","mapStatus","s","formatTime","dueAt","d","Date","toLocaleTimeString","hour","minute","length","slice","list","Array","isArray","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","task","index","status","displayName","property_name","room","capacity","property_context","timeStr","due_at","created_at","isDone","size","staff_name","staff_phone","href","replace","type","onClick","id","_c","KPICard","title","value","icon","Icon","color","_c2","QuickActionStaff","topStaff","callPhone","phone","window","location","i","name","e","preventDefault","_c3","PremiumDashboard","_s","_summary$revenue","_stats$total_properti","_stats$total_capacity","_stats$tasks_by_statu","_stats$tasks_by_statu2","summary","setSummary","stats","setStats","setTasks","setLoading","importSuccess","setImportSuccess","showPropertyModal","setShowPropertyModal","mounted","load","st","t","Promise","all","revenue","active_tasks_count","total_properties","tasks_by_status","Pending","Done","staff_workload","total_capacity","top_staff","handleMarkDone","taskId","prev","alert","message","tasksByStatusData","fill","staffWorkloadData","Object","entries","sort","a","b","count","fullName","dir","String","onSuccess","n","some","width","height","data","layout","margin","top","right","left","bottom","strokeDasharray","stroke","dataKey","contentStyle","backgroundColor","border","borderRadius","formatter","radius","nameKey","cx","cy","outerRadius","label","entry","v","props","payload","handleToggleStatus","isOpen","onClose","_c4","$RefreshReg$"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/components/dashboard/PremiumDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { CheckCircle, Clock, DollarSign, Activity, Home, Users, Phone } from 'lucide-react';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n} from 'recharts';\nimport { getDashboardSummary, getStatsSummary, getPropertyTasks, updatePropertyTaskStatus } from '../../services/api';\nimport StaffGrid from './StaffGrid';\nimport AirbnbImporter from './AirbnbImporter';\nimport GuestChatFeed from '../guest/GuestChatFeed';\nimport PropertyCreatorModal from './PropertyCreatorModal';\n\nconst TASK_CHART_COLORS = ['#3b82f6', '#10b981'];\nconst PIE_COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899'];\n\nconst TaskTimeline = ({ tasks, loading, onToggleStatus = () => {} }) => {\n  const mapStatus = (s) => {\n    if (!s) return 'pending';\n    if (s === 'Done' || s === 'done' || s === 'Completed' || s === 'completed') return 'completed';\n    return 'pending';\n  };\n\n  const formatTime = (dueAt) => {\n    if (!dueAt) return '—';\n    try {\n      const d = new Date(dueAt);\n      return d.toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' });\n    } catch {\n      return typeof dueAt === 'string' && dueAt.length >= 16 ? dueAt.slice(11, 16) : '—';\n    }\n  };\n\n  const list = Array.isArray(tasks) ? tasks.slice(0, 12) : [];\n\n  return (\n    <div className=\"p-6 bg-gray-900/50 dark:bg-gray-800/80 rounded-3xl shadow-xl border border-gray-700/50 dark:border-gray-600/50 backdrop-blur-sm\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h3 className=\"text-xl font-bold text-gray-100 dark:text-white\">רשימת משימות</h3>\n        <span className=\"px-3 py-1 bg-emerald-500/20 text-emerald-400 text-xs font-semibold rounded-full border border-emerald-500/30\">LIVE</span>\n      </div>\n      {loading ? (\n        <div className=\"py-8 text-center text-gray-400 dark:text-gray-500\">טוען...</div>\n      ) : list.length === 0 ? (\n        <div className=\"py-8 text-center text-gray-400 dark:text-gray-500\">אין משימות כרגע</div>\n      ) : (\n        <div className=\"space-y-4\">\n          {list.map((task, index) => {\n            const status = mapStatus(task.status);\n            const displayName = task.property_name || task.room || 'נכס';\n            const capacity = task.property_context || '';\n            const timeStr = formatTime(task.due_at || task.created_at);\n            const isDone = status === 'completed';\n            return (\n              <div\n                key={task.id}\n                className=\"relative flex gap-4 p-4 rounded-2xl bg-gray-800/60 dark:bg-gray-700/40 border border-gray-700/50 dark:border-gray-600/40 hover:border-gray-600/60 transition-colors\"\n              >\n                <div\n                  className={`z-10 w-9 h-9 rounded-xl flex items-center justify-center shrink-0 ${\n                    isDone ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' : 'bg-amber-500/20 text-amber-400 border border-amber-500/30'\n                  }`}\n                >\n                  {isDone ? <CheckCircle size={18} /> : <Clock size={18} />}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex justify-between items-start gap-2\">\n                    <div>\n                      <p className=\"text-sm font-bold text-gray-100 dark:text-white truncate\">{displayName}</p>\n                      {capacity && (\n                        <p className=\"text-xs text-gray-400 dark:text-gray-400 mt-0.5\">{capacity}</p>\n                      )}\n                    </div>\n                    <span className=\"text-xs text-gray-500 dark:text-gray-400 shrink-0\">{timeStr}</span>\n                  </div>\n                  <div className=\"flex flex-wrap items-center gap-x-3 gap-y-1 mt-2\">\n                    <span className=\"text-xs text-gray-400 dark:text-gray-400\">{task.staff_name || '—'}</span>\n                    {task.staff_phone ? (\n                      <a\n                        href={`tel:${task.staff_phone.replace(/\\D/g, '')}`}\n                        className=\"text-xs font-medium text-blue-400 hover:text-blue-300 hover:underline inline-flex items-center gap-1\"\n                      >\n                        <Phone size={12} />\n                        {task.staff_phone}\n                      </a>\n                    ) : null}\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={() => onToggleStatus(task.id, isDone ? 'Pending' : 'Done')}\n                    className={`mt-3 inline-flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-lg transition-colors ${\n                      isDone\n                        ? 'text-amber-400 hover:bg-amber-500/20 border border-amber-500/30'\n                        : 'text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/30'\n                    }`}\n                  >\n                    {isDone ? (\n                      <>חזרה לממתין</>\n                    ) : (\n                      <><CheckCircle size={14} /> סמן כהושלם</>\n                    )}\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst KPICard = ({ title, value, icon: Icon, color }) => (\n  <div className=\"bg-white dark:bg-gray-800 p-6 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm flex items-center gap-4\">\n    <div className={`w-12 h-12 rounded-2xl flex items-center justify-center ${color}`}>\n      <Icon size={24} />\n    </div>\n    <div>\n      <p className=\"text-xs text-gray-500 dark:text-gray-400 font-medium\">{title}</p>\n      <h4 className=\"text-2xl font-black text-gray-800 dark:text-gray-100\">{value}</h4>\n    </div>\n  </div>\n);\n\nconst QuickActionStaff = ({ topStaff }) => {\n  const callPhone = (phone) => {\n    if (!phone) return;\n    window.location.href = `tel:${phone.replace(/\\D/g, '')}`;\n  };\n  if (!topStaff?.length) return null;\n  return (\n    <div className=\"p-6 bg-gray-900/50 dark:bg-gray-800/80 rounded-3xl border border-gray-700/50 dark:border-gray-600/50 shadow-xl backdrop-blur-sm\">\n      <h3 className=\"text-lg font-bold text-gray-100 dark:text-white mb-4 flex items-center gap-2\">\n        <Phone size={20} className=\"text-blue-500\" />\n        קשר מהיר\n      </h3>\n      <div className=\"space-y-3\">\n        {topStaff.map((s, i) => (\n          <div\n            key={i}\n            className=\"flex justify-between items-center p-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n          >\n            <span className=\"font-medium text-gray-800 dark:text-gray-200\">{s.name}</span>\n            <a\n              href={`tel:${(s.phone || '').replace(/\\D/g, '')}`}\n              onClick={(e) => { e.preventDefault(); callPhone(s.phone); }}\n              className=\"text-blue-600 dark:text-blue-400 font-medium text-sm hover:underline\"\n            >\n              {s.phone}\n            </a>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default function PremiumDashboard() {\n  const [summary, setSummary] = useState(null);\n  const [stats, setStats] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [importSuccess, setImportSuccess] = useState(0);\n  const [showPropertyModal, setShowPropertyModal] = useState(false);\n\n  useEffect(() => {\n    let mounted = true;\n    const load = async () => {\n      setLoading(true);\n      try {\n        const [s, st, t] = await Promise.all([\n          getDashboardSummary(),\n          getStatsSummary(),\n          getPropertyTasks(),\n        ]);\n        if (mounted) {\n          setSummary(s);\n          setStats(st);\n          setTasks(Array.isArray(t) ? t : []);\n        }\n      } catch (e) {\n        if (mounted) {\n          setSummary({ revenue: '0₪', active_tasks_count: 0, status: 'Unavailable' });\n          setStats({ total_properties: 0, tasks_by_status: { Pending: 0, Done: 0 }, staff_workload: {}, total_capacity: 0, top_staff: [] });\n          setTasks([]);\n        }\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    load();\n    return () => { mounted = false; };\n  }, [importSuccess]);\n\n  const handleMarkDone = useCallback(async (taskId) => {\n    try {\n      await updatePropertyTaskStatus(taskId, 'Done');\n      setTasks((prev) => prev.map((t) => (t.id === taskId ? { ...t, status: 'Done' } : t)));\n    } catch (e) {\n      window.alert(e?.message || 'Failed to update');\n    }\n  }, []);\n\n  const tasksByStatusData = stats?.tasks_by_status\n    ? [\n        { name: 'ממתינות', value: stats.tasks_by_status.Pending || 0, fill: TASK_CHART_COLORS[0] },\n        { name: 'הושלמו', value: stats.tasks_by_status.Done || 0, fill: TASK_CHART_COLORS[1] },\n      ]\n    : [];\n  const staffWorkloadData = stats?.staff_workload\n    ? Object.entries(stats.staff_workload)\n        .sort((a, b) => b[1] - a[1])\n        .slice(0, 5)\n        .map(([name, count], i) => ({\n          name: name.length > 10 ? name.slice(0, 8) + '…' : name,\n          fullName: name,\n          tasks: count,\n          fill: PIE_COLORS[i % PIE_COLORS.length],\n        }))\n    : [];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-8\" dir=\"rtl\">\n      <div className=\"flex justify-between items-end mb-10\">\n        <div>\n          <h1 className=\"text-3xl font-black text-gray-900 dark:text-white\">בוקר טוב, מנהל</h1>\n          <p className=\"text-gray-500 dark:text-gray-400\">כל הנכסים שלך תחת שליטה. הנה מה שקורה היום.</p>\n        </div>\n        <button\n          type=\"button\"\n          onClick={() => setShowPropertyModal(true)}\n          className=\"bg-black dark:bg-white text-white dark:text-gray-900 px-6 py-3 rounded-2xl font-bold hover:opacity-90 transition-all\"\n        >\n          + הוסף נכס חדש\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\">\n        <KPICard\n          title=\"הכנסות החודש\"\n          value={summary?.revenue ?? '₪0'}\n          icon={DollarSign}\n          color=\"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400\"\n        />\n        <KPICard\n          title=\"נכסים\"\n          value={String(stats?.total_properties ?? 0)}\n          icon={Home}\n          color=\"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400\"\n        />\n        <KPICard\n          title=\"קיבולת כוללת\"\n          value={String(stats?.total_capacity ?? 0)}\n          icon={Users}\n          color=\"bg-violet-50 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400\"\n        />\n        <KPICard\n          title=\"משימות פעילות\"\n          value={String(stats?.tasks_by_status?.Pending ?? 0)}\n          icon={Activity}\n          color=\"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className=\"lg:col-span-2 space-y-8\">\n          <AirbnbImporter onSuccess={() => setImportSuccess((n) => n + 1)} />\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 min-h-[280px]\">\n              <h3 className=\"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4\">משימות לפי סטטוס</h3>\n              {tasksByStatusData.some((d) => d.value > 0) ? (\n                <ResponsiveContainer width=\"100%\" height={200}>\n                  <BarChart data={tasksByStatusData} layout=\"vertical\" margin={{ top: 5, right: 20, left: 0, bottom: 5 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                    <XAxis type=\"number\" stroke=\"#6b7280\" />\n                    <YAxis type=\"category\" dataKey=\"name\" width={70} stroke=\"#6b7280\" />\n                    <Tooltip\n                      contentStyle={{ backgroundColor: 'rgba(255,255,255,0.95)', border: '1px solid #e5e7eb', borderRadius: 8 }}\n                      formatter={(value) => [value, 'משימות']}\n                    />\n                    <Bar dataKey=\"value\" name=\"משימות\" radius={[0, 4, 4, 0]} />\n                  </BarChart>\n                </ResponsiveContainer>\n              ) : (\n                <div className=\"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\">אין משימות</div>\n              )}\n            </div>\n            <div className=\"bg-gray-800/60 dark:bg-gray-800/80 rounded-3xl border border-gray-700/50 dark:border-gray-600/50 shadow-xl backdrop-blur-sm p-6 min-h-[280px]\">\n              <h3 className=\"text-lg font-bold text-gray-100 dark:text-white mb-4\">עומס עובדים</h3>\n              {staffWorkloadData.length > 0 ? (\n                <ResponsiveContainer width=\"100%\" height={200}>\n                  <PieChart>\n                    <Pie\n                      data={staffWorkloadData}\n                      dataKey=\"tasks\"\n                      nameKey=\"fullName\"\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      outerRadius={70}\n                      label={({ fullName, tasks: t }) => `${fullName}: ${t}`}\n                    >\n                      {staffWorkloadData.map((entry, i) => (\n                        <Cell key={i} fill={entry.fill} />\n                      ))}\n                    </Pie>\n                    <Tooltip formatter={(v, n, props) => [`${props.payload.fullName}: ${v} משימות`, '']} />\n                    <Legend />\n                  </PieChart>\n                </ResponsiveContainer>\n              ) : (\n                <div className=\"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\">אין נתונים</div>\n              )}\n            </div>\n          </div>\n          <StaffGrid />\n        </div>\n        <div className=\"space-y-8\">\n          <TaskTimeline tasks={tasks} loading={loading} onToggleStatus={handleToggleStatus} />\n          <QuickActionStaff topStaff={stats?.top_staff} />\n          <GuestChatFeed />\n        </div>\n      </div>\n\n      <PropertyCreatorModal\n        isOpen={showPropertyModal}\n        onClose={() => setShowPropertyModal(false)}\n        onSuccess={() => setImportSuccess((n) => n + 1)}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}