{"ast":null,"code":"/**\n * Format phone number for WhatsApp wa.me links (international format).\n * Israeli numbers: 052-123-4567 -> 972521234567\n * @param {string} phone - Raw phone (e.g. \"052-1234567\", \"+972 52 123 4567\")\n * @returns {string} Digits only, with 972 prefix for Israeli local numbers\n */\nexport function toWhatsAppPhone(phone) {\n  if (!phone) return '';\n  const digits = String(phone).replace(/\\D/g, '');\n  if (digits.startsWith('0') && digits.length >= 9) return '972' + digits.slice(1);\n  if (!digits.startsWith('972') && digits.length >= 9) return '972' + digits;\n  return digits;\n}\n\n/** Hardcoded WhatsApp: Alma=0501234567, Kobi=0529876543 */\nexport const STAFF_PHONE_FALLBACK = {\n  alma: '0501234567',\n  עלמה: '0501234567',\n  kobi: '0529876543',\n  קובי: '0529876543'\n};\n\n/**\n * Get WhatsApp phone for a task. Alma/Kobi use hardcoded numbers.\n */\nexport function getTaskWhatsAppPhone(task) {\n  var _task$staff_name, _ref, _task$staff_phone, _ref2, _task$staff_phone2;\n  const staff = (((_task$staff_name = task === null || task === void 0 ? void 0 : task.staff_name) !== null && _task$staff_name !== void 0 ? _task$staff_name : task === null || task === void 0 ? void 0 : task.staffName) || '').toString().toLowerCase();\n  if (staff.includes('alma') || staff.includes('עלמה')) return toWhatsAppPhone('0501234567');\n  if (staff.includes('kobi') || staff.includes('קובי')) return toWhatsAppPhone('0529876543');\n  if (staff.includes('avi') || staff.includes('אבי')) return toWhatsAppPhone((_ref = (_task$staff_phone = task === null || task === void 0 ? void 0 : task.staff_phone) !== null && _task$staff_phone !== void 0 ? _task$staff_phone : task === null || task === void 0 ? void 0 : task.staffPhone) !== null && _ref !== void 0 ? _ref : '0502223334');\n  const phone = (_ref2 = (_task$staff_phone2 = task === null || task === void 0 ? void 0 : task.staff_phone) !== null && _task$staff_phone2 !== void 0 ? _task$staff_phone2 : task === null || task === void 0 ? void 0 : task.staffPhone) !== null && _ref2 !== void 0 ? _ref2 : '';\n  return phone ? toWhatsAppPhone(phone) : '';\n}","map":{"version":3,"names":["toWhatsAppPhone","phone","digits","String","replace","startsWith","length","slice","STAFF_PHONE_FALLBACK","alma","עלמה","kobi","קובי","getTaskWhatsAppPhone","task","_task$staff_name","_ref","_task$staff_phone","_ref2","_task$staff_phone2","staff","staff_name","staffName","toString","toLowerCase","includes","staff_phone","staffPhone"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/utils/phone.js"],"sourcesContent":["/**\n * Format phone number for WhatsApp wa.me links (international format).\n * Israeli numbers: 052-123-4567 -> 972521234567\n * @param {string} phone - Raw phone (e.g. \"052-1234567\", \"+972 52 123 4567\")\n * @returns {string} Digits only, with 972 prefix for Israeli local numbers\n */\nexport function toWhatsAppPhone(phone) {\n  if (!phone) return '';\n  const digits = String(phone).replace(/\\D/g, '');\n  if (digits.startsWith('0') && digits.length >= 9) return '972' + digits.slice(1);\n  if (!digits.startsWith('972') && digits.length >= 9) return '972' + digits;\n  return digits;\n}\n\n/** Hardcoded WhatsApp: Alma=0501234567, Kobi=0529876543 */\nexport const STAFF_PHONE_FALLBACK = { alma: '0501234567', עלמה: '0501234567', kobi: '0529876543', קובי: '0529876543' };\n\n/**\n * Get WhatsApp phone for a task. Alma/Kobi use hardcoded numbers.\n */\nexport function getTaskWhatsAppPhone(task) {\n  const staff = ((task?.staff_name ?? task?.staffName) || '').toString().toLowerCase();\n  if (staff.includes('alma') || staff.includes('עלמה')) return toWhatsAppPhone('0501234567');\n  if (staff.includes('kobi') || staff.includes('קובי')) return toWhatsAppPhone('0529876543');\n  if (staff.includes('avi') || staff.includes('אבי')) return toWhatsAppPhone(task?.staff_phone ?? task?.staffPhone ?? '0502223334');\n  const phone = task?.staff_phone ?? task?.staffPhone ?? '';\n  return phone ? toWhatsAppPhone(phone) : '';\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,eAAeA,CAACC,KAAK,EAAE;EACrC,IAAI,CAACA,KAAK,EAAE,OAAO,EAAE;EACrB,MAAMC,MAAM,GAAGC,MAAM,CAACF,KAAK,CAAC,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAC/C,IAAIF,MAAM,CAACG,UAAU,CAAC,GAAG,CAAC,IAAIH,MAAM,CAACI,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK,GAAGJ,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC;EAChF,IAAI,CAACL,MAAM,CAACG,UAAU,CAAC,KAAK,CAAC,IAAIH,MAAM,CAACI,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK,GAAGJ,MAAM;EAC1E,OAAOA,MAAM;AACf;;AAEA;AACA,OAAO,MAAMM,oBAAoB,GAAG;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE;AAAa,CAAC;;AAEtH;AACA;AACA;AACA,OAAO,SAASC,oBAAoBA,CAACC,IAAI,EAAE;EAAA,IAAAC,gBAAA,EAAAC,IAAA,EAAAC,iBAAA,EAAAC,KAAA,EAAAC,kBAAA;EACzC,MAAMC,KAAK,GAAG,CAAC,EAAAL,gBAAA,GAACD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,UAAU,cAAAN,gBAAA,cAAAA,gBAAA,GAAID,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,SAAS,KAAK,EAAE,EAAEC,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EACpF,IAAIJ,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,IAAIL,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAOzB,eAAe,CAAC,YAAY,CAAC;EAC1F,IAAIoB,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,IAAIL,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAOzB,eAAe,CAAC,YAAY,CAAC;EAC1F,IAAIoB,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC,IAAIL,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC,EAAE,OAAOzB,eAAe,EAAAgB,IAAA,IAAAC,iBAAA,GAACH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEY,WAAW,cAAAT,iBAAA,cAAAA,iBAAA,GAAIH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEa,UAAU,cAAAX,IAAA,cAAAA,IAAA,GAAI,YAAY,CAAC;EACjI,MAAMf,KAAK,IAAAiB,KAAA,IAAAC,kBAAA,GAAGL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEY,WAAW,cAAAP,kBAAA,cAAAA,kBAAA,GAAIL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEa,UAAU,cAAAT,KAAA,cAAAA,KAAA,GAAI,EAAE;EACzD,OAAOjB,KAAK,GAAGD,eAAe,CAACC,KAAK,CAAC,GAAG,EAAE;AAC5C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}