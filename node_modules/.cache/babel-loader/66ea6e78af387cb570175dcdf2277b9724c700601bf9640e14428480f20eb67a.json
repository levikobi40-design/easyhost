{"ast":null,"code":"const handleAction = async (roomIndex, propIndex, action) => {\n  let newPortfolio = [...portfolio];\n  let property = newPortfolio[propIndex];\n  let room = property.rooms[roomIndex];\n  if (action === 'checkin') {\n    room.status = 'תפוס';\n    setAiMessage(`צק-אין בוצע ב${room.name}. המערכת עוקבת אחרי זמן השהייה.`);\n  } else if (action === 'checkout') {\n    room.status = 'פנוי';\n    room.cleaning = 'דרוש ניקיון';\n    room.priority = 'גבוה מאוד';\n\n    // קריאה לשרת ה-Python לשליחת התראה אמיתית\n    try {\n      await fetch('http://127.0.0.1:5000/trigger_checkout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          property: property.name,\n          room: room.name\n        })\n      });\n      setAiMessage(`התראת AI: אורח יצא מ${room.name}. שלחתי הודעה למנקה עם תיעדוף גבוה.`);\n    } catch (e) {\n      setAiMessage(\"שגיאה בשליחת התראה למנקה.\");\n    }\n  }\n  setPortfolio(newPortfolio);\n};","map":{"version":3,"names":["handleAction","roomIndex","propIndex","action","newPortfolio","portfolio","property","room","rooms","status","setAiMessage","name","cleaning","priority","fetch","method","headers","body","JSON","stringify","e","setPortfolio"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/App.js"],"sourcesContent":["const handleAction = async (roomIndex, propIndex, action) => {\r\n  let newPortfolio = [...portfolio];\r\n  let property = newPortfolio[propIndex];\r\n  let room = property.rooms[roomIndex];\r\n\r\n  if (action === 'checkin') {\r\n    room.status = 'תפוס';\r\n    setAiMessage(`צק-אין בוצע ב${room.name}. המערכת עוקבת אחרי זמן השהייה.`);\r\n  } else if (action === 'checkout') {\r\n    room.status = 'פנוי';\r\n    room.cleaning = 'דרוש ניקיון';\r\n    room.priority = 'גבוה מאוד';\r\n    \r\n    // קריאה לשרת ה-Python לשליחת התראה אמיתית\r\n    try {\r\n      await fetch('http://127.0.0.1:5000/trigger_checkout', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ property: property.name, room: room.name }),\r\n      });\r\n      setAiMessage(`התראת AI: אורח יצא מ${room.name}. שלחתי הודעה למנקה עם תיעדוף גבוה.`);\r\n    } catch (e) {\r\n      setAiMessage(\"שגיאה בשליחת התראה למנקה.\");\r\n    }\r\n  }\r\n  setPortfolio(newPortfolio);\r\n};"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAAA,CAAOC,SAAS,EAAEC,SAAS,EAAEC,MAAM,KAAK;EAC3D,IAAIC,YAAY,GAAG,CAAC,GAAGC,SAAS,CAAC;EACjC,IAAIC,QAAQ,GAAGF,YAAY,CAACF,SAAS,CAAC;EACtC,IAAIK,IAAI,GAAGD,QAAQ,CAACE,KAAK,CAACP,SAAS,CAAC;EAEpC,IAAIE,MAAM,KAAK,SAAS,EAAE;IACxBI,IAAI,CAACE,MAAM,GAAG,MAAM;IACpBC,YAAY,CAAC,gBAAgBH,IAAI,CAACI,IAAI,iCAAiC,CAAC;EAC1E,CAAC,MAAM,IAAIR,MAAM,KAAK,UAAU,EAAE;IAChCI,IAAI,CAACE,MAAM,GAAG,MAAM;IACpBF,IAAI,CAACK,QAAQ,GAAG,aAAa;IAC7BL,IAAI,CAACM,QAAQ,GAAG,WAAW;;IAE3B;IACA,IAAI;MACF,MAAMC,KAAK,CAAC,wCAAwC,EAAE;QACpDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEb,QAAQ,EAAEA,QAAQ,CAACK,IAAI;UAAEJ,IAAI,EAAEA,IAAI,CAACI;QAAK,CAAC;MACnE,CAAC,CAAC;MACFD,YAAY,CAAC,uBAAuBH,IAAI,CAACI,IAAI,qCAAqC,CAAC;IACrF,CAAC,CAAC,OAAOS,CAAC,EAAE;MACVV,YAAY,CAAC,2BAA2B,CAAC;IAC3C;EACF;EACAW,YAAY,CAACjB,YAAY,CAAC;AAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}