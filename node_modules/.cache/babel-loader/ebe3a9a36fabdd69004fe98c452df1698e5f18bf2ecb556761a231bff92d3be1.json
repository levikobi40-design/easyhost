{"ast":null,"code":"/**\n * Multi-Agent Orchestration System\n * Maya manages 5 specialized agents for hotel operations\n */\n\nimport { API_BASE_URL } from '../utils/constants';\n\n// Agent Types\nexport const AGENT_TYPES = {\n  SCRAPER: 'scraper',\n  MARKETING: 'marketing',\n  CREATIVE: 'creative',\n  SALES: 'sales',\n  OPERATIONS: 'operations'\n};\n\n// Agent Status\nexport const AGENT_STATUS = {\n  ONLINE: 'online',\n  BUSY: 'busy',\n  OFFLINE: 'offline',\n  ERROR: 'error'\n};\n\n/**\n * Base Agent class\n */\nclass BaseAgent {\n  constructor(id, name, description) {\n    this.id = id;\n    this.name = name;\n    this.description = description;\n    this.status = AGENT_STATUS.ONLINE;\n    this.taskQueue = [];\n    this.completedTasks = [];\n  }\n  async execute(task) {\n    throw new Error('Execute method must be implemented');\n  }\n  getStatus() {\n    return this.status;\n  }\n  setStatus(status) {\n    this.status = status;\n  }\n}\n\n/**\n * Scraper Agent - Scans Airbnb/Booking for hot leads\n */\nexport class ScraperAgent extends BaseAgent {\n  constructor() {\n    super(AGENT_TYPES.SCRAPER, 'Scraper Agent', '◊°◊ï◊®◊ß Airbnb ◊ï-Booking ◊ú◊ê◊ô◊™◊ï◊® ◊ú◊ô◊ì◊ô◊ù ◊ó◊û◊ô◊ù ◊ï◊û◊™◊ó◊®◊ô◊ù');\n    this.leadsFound = 0;\n    this.lastScan = null;\n  }\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    try {\n      // Simulate lead scraping (in production, this would call actual APIs)\n      const mockLeads = await this.scanPlatforms(task.platforms || ['airbnb', 'booking']);\n      this.leadsFound += mockLeads.length;\n      this.lastScan = new Date().toISOString();\n      this.setStatus(AGENT_STATUS.ONLINE);\n      return {\n        success: true,\n        leads: mockLeads,\n        timestamp: this.lastScan,\n        message: `◊†◊û◊¶◊ê◊ï ${mockLeads.length} ◊ú◊ô◊ì◊ô◊ù ◊ó◊ì◊©◊ô◊ù`\n      };\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n  async scanPlatforms(platforms) {\n    // Simulate API delay\n    await new Promise(r => setTimeout(r, 1500));\n\n    // Mock leads data\n    return [{\n      id: Date.now(),\n      name: '◊†◊õ◊° ◊ô◊ï◊ß◊®◊î ◊ë◊î◊®◊¶◊ú◊ô◊î',\n      platform: 'airbnb',\n      price: 1200,\n      rating: 4.8,\n      url: '#'\n    }, {\n      id: Date.now() + 1,\n      name: '◊ï◊ô◊ú◊î ◊¢◊ú ◊î◊ô◊ù',\n      platform: 'booking',\n      price: 850,\n      rating: 4.5,\n      url: '#'\n    }, {\n      id: Date.now() + 2,\n      name: '◊§◊†◊ò◊î◊ê◊ï◊ñ ◊ë◊™◊ú ◊ê◊ë◊ô◊ë',\n      platform: 'airbnb',\n      price: 2000,\n      rating: 4.9,\n      url: '#'\n    }];\n  }\n}\n\n/**\n * Marketing Agent - Creates social media posts and email campaigns\n */\nexport class MarketingAgent extends BaseAgent {\n  constructor() {\n    super(AGENT_TYPES.MARKETING, 'Marketing Agent', '◊ô◊ï◊¶◊® ◊§◊ï◊°◊ò◊ô◊ù ◊ú◊®◊©◊™◊ï◊™ ◊ó◊ë◊®◊™◊ô◊ï◊™ ◊ï◊ß◊û◊§◊ô◊ô◊†◊ô◊ù ◊ë◊û◊ô◊ô◊ú');\n    this.postsCreated = 0;\n    this.campaignsSent = 0;\n  }\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    try {\n      let result;\n      switch (task.type) {\n        case 'social_post':\n          result = await this.createSocialPost(task.content);\n          this.postsCreated++;\n          break;\n        case 'email_campaign':\n          result = await this.createEmailCampaign(task.campaign);\n          this.campaignsSent++;\n          break;\n        default:\n          throw new Error(`Unknown task type: ${task.type}`);\n      }\n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n  async createSocialPost(content) {\n    await new Promise(r => setTimeout(r, 1000));\n    return {\n      success: true,\n      post: {\n        id: Date.now(),\n        content: content.text,\n        platforms: content.platforms || ['instagram', 'facebook'],\n        scheduledFor: content.scheduledFor || new Date().toISOString()\n      },\n      message: '◊§◊ï◊°◊ò ◊†◊ï◊¶◊® ◊ë◊î◊¶◊ú◊ó◊î'\n    };\n  }\n  async createEmailCampaign(campaign) {\n    await new Promise(r => setTimeout(r, 2000));\n    return {\n      success: true,\n      campaign: {\n        id: Date.now(),\n        subject: campaign.subject,\n        recipients: campaign.recipients || 500,\n        sentAt: new Date().toISOString()\n      },\n      message: `◊ß◊û◊§◊ô◊ô◊ü ◊†◊©◊ú◊ó ◊ú-${campaign.recipients || 500} ◊†◊û◊¢◊†◊ô◊ù`\n    };\n  }\n}\n\n/**\n * Creative Agent - Auto-edits videos/images for property presentation\n */\nexport class CreativeAgent extends BaseAgent {\n  constructor() {\n    super(AGENT_TYPES.CREATIVE, 'Creative Agent', '◊¢◊ï◊®◊ö ◊ï◊ô◊ì◊ê◊ï ◊ï◊™◊û◊ï◊†◊ï◊™ ◊ê◊ï◊ò◊ï◊û◊ò◊ô◊™ ◊ú◊î◊¶◊í◊™ ◊†◊õ◊°◊ô◊ù');\n    this.assetsCreated = 0;\n  }\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    try {\n      let result;\n      switch (task.type) {\n        case 'edit_video':\n          result = await this.editVideo(task.video);\n          break;\n        case 'enhance_images':\n          result = await this.enhanceImages(task.images);\n          break;\n        case 'create_virtual_tour':\n          result = await this.createVirtualTour(task.property);\n          break;\n        default:\n          throw new Error(`Unknown task type: ${task.type}`);\n      }\n      this.assetsCreated++;\n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n  async editVideo(video) {\n    await new Promise(r => setTimeout(r, 3000));\n    return {\n      success: true,\n      video: {\n        id: Date.now(),\n        originalUrl: video.url,\n        editedUrl: video.url + '?edited=true',\n        duration: '2:30'\n      },\n      message: '◊ï◊ô◊ì◊ê◊ï ◊†◊¢◊®◊ö ◊ë◊î◊¶◊ú◊ó◊î'\n    };\n  }\n  async enhanceImages(images) {\n    await new Promise(r => setTimeout(r, 2000));\n    return {\n      success: true,\n      images: images.map((img, i) => ({\n        id: Date.now() + i,\n        originalUrl: img,\n        enhancedUrl: img + '?enhanced=true'\n      })),\n      message: `${images.length} ◊™◊û◊ï◊†◊ï◊™ ◊©◊ï◊§◊®◊ï ◊ë◊î◊¶◊ú◊ó◊î`\n    };\n  }\n  async createVirtualTour(property) {\n    await new Promise(r => setTimeout(r, 5000));\n    return {\n      success: true,\n      tour: {\n        id: Date.now(),\n        propertyId: property.id,\n        tourUrl: `https://tours.hotel.ai/${property.id}`\n      },\n      message: '◊°◊ô◊ï◊® ◊ï◊ô◊®◊ò◊ï◊ê◊ú◊ô ◊†◊ï◊¶◊® ◊ë◊î◊¶◊ú◊ó◊î'\n    };\n  }\n}\n\n/**\n * Sales Manager Agent - Manages initial negotiations and sends demos\n */\nexport class SalesAgent extends BaseAgent {\n  constructor() {\n    super(AGENT_TYPES.SALES, 'Sales Manager Agent', '◊û◊†◊î◊ú ◊û◊©◊ê ◊ï◊û◊™◊ü ◊®◊ê◊©◊ï◊†◊ô ◊ï◊©◊ï◊ú◊ó ◊ì◊û◊ï◊ê◊ô◊ù');\n    this.dealsInProgress = 0;\n    this.dealsClosedToday = 0;\n  }\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    try {\n      let result;\n      switch (task.type) {\n        case 'send_demo':\n          result = await this.sendDemo(task.lead);\n          break;\n        case 'negotiate':\n          result = await this.handleNegotiation(task.deal);\n          break;\n        case 'follow_up':\n          result = await this.followUp(task.leadId);\n          break;\n        default:\n          throw new Error(`Unknown task type: ${task.type}`);\n      }\n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n  async sendDemo(lead) {\n    await new Promise(r => setTimeout(r, 1500));\n    this.dealsInProgress++;\n    return {\n      success: true,\n      demo: {\n        id: Date.now(),\n        leadId: lead.id,\n        demoUrl: `https://demo.hotel.ai/${lead.id}`,\n        sentAt: new Date().toISOString()\n      },\n      message: `◊ì◊û◊ï ◊†◊©◊ú◊ó ◊ú-${lead.name || '◊ú◊ô◊ì'}`\n    };\n  }\n  async handleNegotiation(deal) {\n    await new Promise(r => setTimeout(r, 2000));\n    return {\n      success: true,\n      negotiation: {\n        id: Date.now(),\n        dealId: deal.id,\n        stage: 'proposal_sent',\n        nextAction: 'await_response'\n      },\n      message: '◊û◊©◊ê ◊ï◊û◊™◊ü ◊î◊™◊ó◊ô◊ú'\n    };\n  }\n  async followUp(leadId) {\n    await new Promise(r => setTimeout(r, 1000));\n    return {\n      success: true,\n      followUp: {\n        leadId,\n        sentAt: new Date().toISOString(),\n        type: 'email'\n      },\n      message: '◊û◊¢◊ß◊ë ◊†◊©◊ú◊ó'\n    };\n  }\n}\n\n/**\n * Operations Agent - Sends WhatsApp messages to staff for cleaning, maintenance, etc.\n */\nexport class OperationsAgent extends BaseAgent {\n  constructor() {\n    super(AGENT_TYPES.OPERATIONS, 'Operations Agent', '◊©◊ï◊ú◊ó ◊î◊ï◊ì◊¢◊ï◊™ WhatsApp ◊ú◊¢◊ï◊ë◊ì◊ô◊ù ◊ú◊§◊ô ◊ë◊ß◊©◊ï◊™ ◊ê◊ï◊®◊ó◊ô◊ù');\n    this.messagesSent = 0;\n    this.tasksAssigned = 0;\n  }\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    try {\n      let result;\n      switch (task.type) {\n        case 'request_towels':\n          result = await this.sendStaffMessage('housekeeping', task);\n          break;\n        case 'request_cleaning':\n          result = await this.sendStaffMessage('housekeeping', task);\n          break;\n        case 'maintenance_request':\n          result = await this.sendStaffMessage('maintenance', task);\n          break;\n        case 'room_service':\n          result = await this.sendStaffMessage('room_service', task);\n          break;\n        case 'guest_checkout':\n          result = await this.handleCheckout(task);\n          break;\n        default:\n          result = await this.sendStaffMessage('general', task);\n      }\n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n  async sendStaffMessage(department, task) {\n    await new Promise(r => setTimeout(r, 800));\n    this.messagesSent++;\n    this.tasksAssigned++;\n\n    // In production, this would call Twilio/Meta WhatsApp API\n    const message = this.generateMessage(department, task);\n    return {\n      success: true,\n      message: {\n        id: Date.now(),\n        department,\n        room: task.room,\n        content: message,\n        sentAt: new Date().toISOString(),\n        status: 'delivered'\n      },\n      displayMessage: `◊î◊ï◊ì◊¢◊™ WhatsApp ◊†◊©◊ú◊ó◊î ◊ú◊û◊ó◊ú◊ß◊™ ${department === 'housekeeping' ? '◊û◊©◊ß ◊ë◊ô◊™' : department}`\n    };\n  }\n  generateMessage(department, task) {\n    const messages = {\n      housekeeping: `üè® ◊ë◊ß◊©◊î ◊ó◊ì◊©◊î ◊û◊ó◊ì◊® ${task.room}\\n\\n${task.description || '◊û◊í◊ë◊ï◊™ ◊†◊ì◊®◊©◊ï◊™'}\\n\\n‚è∞ ◊ê◊†◊ê ◊ò◊§◊ú ◊ë◊î◊ß◊ì◊ù ◊î◊ê◊§◊©◊®◊ô`,\n      maintenance: `üîß ◊™◊ó◊ñ◊ï◊ß◊î ◊†◊ì◊®◊©◊™ ◊ë◊ó◊ì◊® ${task.room}\\n\\n${task.description || '◊ë◊¢◊ô◊î ◊ò◊õ◊†◊ô◊™'}\\n\\n‚ö†Ô∏è ◊ì◊ó◊ô◊§◊ï◊™: ${task.priority || '◊®◊í◊ô◊ú◊î'}`,\n      room_service: `üçΩÔ∏è ◊î◊ñ◊û◊†◊™ ◊©◊ô◊®◊ï◊™ ◊ó◊ì◊®◊ô◊ù\\n\\n◊ó◊ì◊®: ${task.room}\\n${task.order || ''}\\n\\n‚è∞ ◊ñ◊û◊ü ◊û◊©◊ú◊ï◊ó ◊û◊ë◊ï◊ß◊©: ${task.deliveryTime || '◊ë◊î◊ß◊ì◊ù'}`,\n      general: `üìã ◊ë◊ß◊©◊î ◊ó◊ì◊©◊î ◊û◊ó◊ì◊® ${task.room}\\n\\n${task.description || '◊ë◊ß◊©◊™ ◊ê◊ï◊®◊ó'}`\n    };\n    return messages[department] || messages.general;\n  }\n  async handleCheckout(task) {\n    await new Promise(r => setTimeout(r, 1000));\n\n    // Send multiple messages for checkout process\n    await this.sendStaffMessage('housekeeping', {\n      room: task.room,\n      description: '◊†◊ô◊ß◊ô◊ï◊ü ◊ú◊ê◊ó◊® ◊¶\\'◊ß-◊ê◊ê◊ï◊ò',\n      priority: '◊í◊ë◊ï◊î◊î'\n    });\n    return {\n      success: true,\n      checkout: {\n        room: task.room,\n        guestName: task.guestName,\n        processedAt: new Date().toISOString()\n      },\n      displayMessage: `◊™◊î◊ú◊ô◊ö ◊¶'◊ß-◊ê◊ê◊ï◊ò ◊î◊ï◊©◊ú◊ù ◊¢◊ë◊ï◊® ◊ó◊ì◊® ${task.room}`\n    };\n  }\n}\n\n/**\n * Maya - The Master Orchestrator\n * Manages all agents and handles high-level decisions\n */\nclass MayaOrchestrator {\n  constructor() {\n    this.agents = {\n      [AGENT_TYPES.SCRAPER]: new ScraperAgent(),\n      [AGENT_TYPES.MARKETING]: new MarketingAgent(),\n      [AGENT_TYPES.CREATIVE]: new CreativeAgent(),\n      [AGENT_TYPES.SALES]: new SalesAgent(),\n      [AGENT_TYPES.OPERATIONS]: new OperationsAgent()\n    };\n    this.taskHistory = [];\n    this.isProcessing = false;\n  }\n\n  /**\n   * Execute a task using the appropriate agent\n   */\n  async executeTask(agentType, task) {\n    const agent = this.agents[agentType];\n    if (!agent) {\n      throw new Error(`Agent ${agentType} not found`);\n    }\n    const taskRecord = {\n      id: Date.now(),\n      agentType,\n      task,\n      startedAt: new Date().toISOString(),\n      status: 'running'\n    };\n    this.taskHistory.push(taskRecord);\n    try {\n      const result = await agent.execute(task);\n      taskRecord.completedAt = new Date().toISOString();\n      taskRecord.status = 'completed';\n      taskRecord.result = result;\n      return result;\n    } catch (error) {\n      taskRecord.completedAt = new Date().toISOString();\n      taskRecord.status = 'failed';\n      taskRecord.error = error.message;\n      throw error;\n    }\n  }\n\n  /**\n   * Get all agent statuses\n   */\n  getAgentStatuses() {\n    return Object.entries(this.agents).reduce((acc, [type, agent]) => {\n      acc[type] = {\n        status: agent.status,\n        name: agent.name,\n        description: agent.description\n      };\n      return acc;\n    }, {});\n  }\n\n  /**\n   * Process natural language command from Maya chat\n   */\n  async processCommand(command) {\n    const lowerCommand = command.toLowerCase();\n\n    // Detect intent and route to appropriate agent\n    if (lowerCommand.includes('◊ú◊ô◊ì') || lowerCommand.includes('◊°◊®◊ô◊ß◊î') || lowerCommand.includes('airbnb')) {\n      return await this.executeTask(AGENT_TYPES.SCRAPER, {\n        platforms: ['airbnb', 'booking']\n      });\n    }\n    if (lowerCommand.includes('◊§◊ï◊°◊ò') || lowerCommand.includes('◊©◊ô◊ï◊ï◊ß') || lowerCommand.includes('◊ß◊û◊§◊ô◊ô◊ü')) {\n      return await this.executeTask(AGENT_TYPES.MARKETING, {\n        type: 'social_post',\n        content: {\n          text: '◊§◊ï◊°◊ò ◊ó◊ì◊© ◊û◊î◊û◊ú◊ï◊ü',\n          platforms: ['instagram', 'facebook']\n        }\n      });\n    }\n    if (lowerCommand.includes('◊ï◊ô◊ì◊ê◊ï') || lowerCommand.includes('◊™◊û◊ï◊†') || lowerCommand.includes('◊¢◊®◊ô◊õ◊î')) {\n      return await this.executeTask(AGENT_TYPES.CREATIVE, {\n        type: 'enhance_images',\n        images: ['https://example.com/room1.jpg']\n      });\n    }\n    if (lowerCommand.includes('◊ì◊û◊ï') || lowerCommand.includes('◊û◊õ◊ô◊®') || lowerCommand.includes('◊¢◊°◊ß◊î')) {\n      return await this.executeTask(AGENT_TYPES.SALES, {\n        type: 'send_demo',\n        lead: {\n          id: Date.now(),\n          name: '◊ú◊ß◊ï◊ó ◊ó◊ì◊©'\n        }\n      });\n    }\n    if (lowerCommand.includes('◊û◊í◊ë◊™') || lowerCommand.includes('◊†◊ô◊ß◊ô◊ï◊ü') || lowerCommand.includes('◊™◊ó◊ñ◊ï◊ß◊î') || lowerCommand.includes('◊ó◊ì◊®')) {\n      const roomMatch = command.match(/\\d+/);\n      const room = roomMatch ? roomMatch[0] : '101';\n      return await this.executeTask(AGENT_TYPES.OPERATIONS, {\n        type: 'request_towels',\n        room,\n        description: command\n      });\n    }\n\n    // Default response\n    return {\n      success: true,\n      message: '◊ú◊ê ◊î◊¶◊ú◊ó◊™◊ô ◊ú◊î◊ë◊ô◊ü ◊ê◊™ ◊î◊ë◊ß◊©◊î. ◊ê◊†◊ê ◊†◊°◊î ◊©◊ï◊ë ◊ê◊ï ◊ë◊ó◊® ◊§◊¢◊ï◊ú◊î ◊û◊î◊™◊§◊®◊ô◊ò.'\n    };\n  }\n\n  /**\n   * Get task history\n   */\n  getTaskHistory(limit = 50) {\n    return this.taskHistory.slice(-limit).reverse();\n  }\n\n  /**\n   * Generate daily report\n   */\n  async generateDailyReport() {\n    const today = new Date().toISOString().split('T')[0];\n    const todaysTasks = this.taskHistory.filter(t => t.startedAt.startsWith(today));\n    const completedTasks = todaysTasks.filter(t => t.status === 'completed');\n    const failedTasks = todaysTasks.filter(t => t.status === 'failed');\n\n    // Calculate savings (mock calculation - would be real in production)\n    const avgTimePerTask = 15; // minutes saved per automated task\n    const hourlyRate = 50; // ‚Ç™ per hour\n    const timeSaved = completedTasks.length * avgTimePerTask;\n    const moneySaved = timeSaved / 60 * hourlyRate;\n    return {\n      date: today,\n      summary: {\n        totalTasks: todaysTasks.length,\n        completedTasks: completedTasks.length,\n        failedTasks: failedTasks.length,\n        successRate: todaysTasks.length > 0 ? (completedTasks.length / todaysTasks.length * 100).toFixed(1) : 100\n      },\n      savings: {\n        timeSavedMinutes: timeSaved,\n        moneySaved: moneySaved,\n        automationRate: 82 // Would be calculated from actual data\n      },\n      agentStats: Object.entries(this.agents).map(([type, agent]) => ({\n        type,\n        name: agent.name,\n        status: agent.status,\n        tasksToday: todaysTasks.filter(t => t.agentType === type).length\n      })),\n      recommendations: ['◊†◊û◊¶◊ê◊ï 5 ◊ú◊ô◊ì◊ô◊ù ◊ó◊û◊ô◊ù ◊©◊ì◊ï◊®◊©◊ô◊ù ◊û◊¢◊ß◊ë', '◊ß◊û◊§◊ô◊ô◊ü ◊î◊ê◊ô◊û◊ô◊ô◊ú ◊î◊ê◊ó◊®◊ï◊ü ◊î◊†◊ô◊ë 12% ◊î◊û◊®◊ï◊™', '◊û◊ï◊û◊ú◊• ◊ú◊î◊§◊¢◊ô◊ú ◊°◊®◊ô◊ß◊™ ◊û◊™◊ó◊®◊ô◊ù ◊©◊ë◊ï◊¢◊ô◊™']\n    };\n  }\n}\n\n// Singleton instance\nexport const maya = new MayaOrchestrator();\nexport default maya;","map":{"version":3,"names":["API_BASE_URL","AGENT_TYPES","SCRAPER","MARKETING","CREATIVE","SALES","OPERATIONS","AGENT_STATUS","ONLINE","BUSY","OFFLINE","ERROR","BaseAgent","constructor","id","name","description","status","taskQueue","completedTasks","execute","task","Error","getStatus","setStatus","ScraperAgent","leadsFound","lastScan","mockLeads","scanPlatforms","platforms","length","Date","toISOString","success","leads","timestamp","message","error","Promise","r","setTimeout","now","platform","price","rating","url","MarketingAgent","postsCreated","campaignsSent","result","type","createSocialPost","content","createEmailCampaign","campaign","post","text","scheduledFor","subject","recipients","sentAt","CreativeAgent","assetsCreated","editVideo","video","enhanceImages","images","createVirtualTour","property","originalUrl","editedUrl","duration","map","img","i","enhancedUrl","tour","propertyId","tourUrl","SalesAgent","dealsInProgress","dealsClosedToday","sendDemo","lead","handleNegotiation","deal","followUp","leadId","demo","demoUrl","negotiation","dealId","stage","nextAction","OperationsAgent","messagesSent","tasksAssigned","sendStaffMessage","handleCheckout","department","generateMessage","room","displayMessage","messages","housekeeping","maintenance","priority","room_service","order","deliveryTime","general","checkout","guestName","processedAt","MayaOrchestrator","agents","taskHistory","isProcessing","executeTask","agentType","agent","taskRecord","startedAt","push","completedAt","getAgentStatuses","Object","entries","reduce","acc","processCommand","command","lowerCommand","toLowerCase","includes","roomMatch","match","getTaskHistory","limit","slice","reverse","generateDailyReport","today","split","todaysTasks","filter","t","startsWith","failedTasks","avgTimePerTask","hourlyRate","timeSaved","moneySaved","date","summary","totalTasks","successRate","toFixed","savings","timeSavedMinutes","automationRate","agentStats","tasksToday","recommendations","maya"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/services/agentOrchestrator.js"],"sourcesContent":["/**\n * Multi-Agent Orchestration System\n * Maya manages 5 specialized agents for hotel operations\n */\n\nimport { API_BASE_URL } from '../utils/constants';\n\n// Agent Types\nexport const AGENT_TYPES = {\n  SCRAPER: 'scraper',\n  MARKETING: 'marketing',\n  CREATIVE: 'creative',\n  SALES: 'sales',\n  OPERATIONS: 'operations',\n};\n\n// Agent Status\nexport const AGENT_STATUS = {\n  ONLINE: 'online',\n  BUSY: 'busy',\n  OFFLINE: 'offline',\n  ERROR: 'error',\n};\n\n/**\n * Base Agent class\n */\nclass BaseAgent {\n  constructor(id, name, description) {\n    this.id = id;\n    this.name = name;\n    this.description = description;\n    this.status = AGENT_STATUS.ONLINE;\n    this.taskQueue = [];\n    this.completedTasks = [];\n  }\n\n  async execute(task) {\n    throw new Error('Execute method must be implemented');\n  }\n\n  getStatus() {\n    return this.status;\n  }\n\n  setStatus(status) {\n    this.status = status;\n  }\n}\n\n/**\n * Scraper Agent - Scans Airbnb/Booking for hot leads\n */\nexport class ScraperAgent extends BaseAgent {\n  constructor() {\n    super(\n      AGENT_TYPES.SCRAPER,\n      'Scraper Agent',\n      '◊°◊ï◊®◊ß Airbnb ◊ï-Booking ◊ú◊ê◊ô◊™◊ï◊® ◊ú◊ô◊ì◊ô◊ù ◊ó◊û◊ô◊ù ◊ï◊û◊™◊ó◊®◊ô◊ù'\n    );\n    this.leadsFound = 0;\n    this.lastScan = null;\n  }\n\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    \n    try {\n      // Simulate lead scraping (in production, this would call actual APIs)\n      const mockLeads = await this.scanPlatforms(task.platforms || ['airbnb', 'booking']);\n      \n      this.leadsFound += mockLeads.length;\n      this.lastScan = new Date().toISOString();\n      this.setStatus(AGENT_STATUS.ONLINE);\n      \n      return {\n        success: true,\n        leads: mockLeads,\n        timestamp: this.lastScan,\n        message: `◊†◊û◊¶◊ê◊ï ${mockLeads.length} ◊ú◊ô◊ì◊ô◊ù ◊ó◊ì◊©◊ô◊ù`,\n      };\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n\n  async scanPlatforms(platforms) {\n    // Simulate API delay\n    await new Promise((r) => setTimeout(r, 1500));\n    \n    // Mock leads data\n    return [\n      { id: Date.now(), name: '◊†◊õ◊° ◊ô◊ï◊ß◊®◊î ◊ë◊î◊®◊¶◊ú◊ô◊î', platform: 'airbnb', price: 1200, rating: 4.8, url: '#' },\n      { id: Date.now() + 1, name: '◊ï◊ô◊ú◊î ◊¢◊ú ◊î◊ô◊ù', platform: 'booking', price: 850, rating: 4.5, url: '#' },\n      { id: Date.now() + 2, name: '◊§◊†◊ò◊î◊ê◊ï◊ñ ◊ë◊™◊ú ◊ê◊ë◊ô◊ë', platform: 'airbnb', price: 2000, rating: 4.9, url: '#' },\n    ];\n  }\n}\n\n/**\n * Marketing Agent - Creates social media posts and email campaigns\n */\nexport class MarketingAgent extends BaseAgent {\n  constructor() {\n    super(\n      AGENT_TYPES.MARKETING,\n      'Marketing Agent',\n      '◊ô◊ï◊¶◊® ◊§◊ï◊°◊ò◊ô◊ù ◊ú◊®◊©◊™◊ï◊™ ◊ó◊ë◊®◊™◊ô◊ï◊™ ◊ï◊ß◊û◊§◊ô◊ô◊†◊ô◊ù ◊ë◊û◊ô◊ô◊ú'\n    );\n    this.postsCreated = 0;\n    this.campaignsSent = 0;\n  }\n\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    \n    try {\n      let result;\n      \n      switch (task.type) {\n        case 'social_post':\n          result = await this.createSocialPost(task.content);\n          this.postsCreated++;\n          break;\n        case 'email_campaign':\n          result = await this.createEmailCampaign(task.campaign);\n          this.campaignsSent++;\n          break;\n        default:\n          throw new Error(`Unknown task type: ${task.type}`);\n      }\n      \n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n\n  async createSocialPost(content) {\n    await new Promise((r) => setTimeout(r, 1000));\n    \n    return {\n      success: true,\n      post: {\n        id: Date.now(),\n        content: content.text,\n        platforms: content.platforms || ['instagram', 'facebook'],\n        scheduledFor: content.scheduledFor || new Date().toISOString(),\n      },\n      message: '◊§◊ï◊°◊ò ◊†◊ï◊¶◊® ◊ë◊î◊¶◊ú◊ó◊î',\n    };\n  }\n\n  async createEmailCampaign(campaign) {\n    await new Promise((r) => setTimeout(r, 2000));\n    \n    return {\n      success: true,\n      campaign: {\n        id: Date.now(),\n        subject: campaign.subject,\n        recipients: campaign.recipients || 500,\n        sentAt: new Date().toISOString(),\n      },\n      message: `◊ß◊û◊§◊ô◊ô◊ü ◊†◊©◊ú◊ó ◊ú-${campaign.recipients || 500} ◊†◊û◊¢◊†◊ô◊ù`,\n    };\n  }\n}\n\n/**\n * Creative Agent - Auto-edits videos/images for property presentation\n */\nexport class CreativeAgent extends BaseAgent {\n  constructor() {\n    super(\n      AGENT_TYPES.CREATIVE,\n      'Creative Agent',\n      '◊¢◊ï◊®◊ö ◊ï◊ô◊ì◊ê◊ï ◊ï◊™◊û◊ï◊†◊ï◊™ ◊ê◊ï◊ò◊ï◊û◊ò◊ô◊™ ◊ú◊î◊¶◊í◊™ ◊†◊õ◊°◊ô◊ù'\n    );\n    this.assetsCreated = 0;\n  }\n\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    \n    try {\n      let result;\n      \n      switch (task.type) {\n        case 'edit_video':\n          result = await this.editVideo(task.video);\n          break;\n        case 'enhance_images':\n          result = await this.enhanceImages(task.images);\n          break;\n        case 'create_virtual_tour':\n          result = await this.createVirtualTour(task.property);\n          break;\n        default:\n          throw new Error(`Unknown task type: ${task.type}`);\n      }\n      \n      this.assetsCreated++;\n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n\n  async editVideo(video) {\n    await new Promise((r) => setTimeout(r, 3000));\n    \n    return {\n      success: true,\n      video: {\n        id: Date.now(),\n        originalUrl: video.url,\n        editedUrl: video.url + '?edited=true',\n        duration: '2:30',\n      },\n      message: '◊ï◊ô◊ì◊ê◊ï ◊†◊¢◊®◊ö ◊ë◊î◊¶◊ú◊ó◊î',\n    };\n  }\n\n  async enhanceImages(images) {\n    await new Promise((r) => setTimeout(r, 2000));\n    \n    return {\n      success: true,\n      images: images.map((img, i) => ({\n        id: Date.now() + i,\n        originalUrl: img,\n        enhancedUrl: img + '?enhanced=true',\n      })),\n      message: `${images.length} ◊™◊û◊ï◊†◊ï◊™ ◊©◊ï◊§◊®◊ï ◊ë◊î◊¶◊ú◊ó◊î`,\n    };\n  }\n\n  async createVirtualTour(property) {\n    await new Promise((r) => setTimeout(r, 5000));\n    \n    return {\n      success: true,\n      tour: {\n        id: Date.now(),\n        propertyId: property.id,\n        tourUrl: `https://tours.hotel.ai/${property.id}`,\n      },\n      message: '◊°◊ô◊ï◊® ◊ï◊ô◊®◊ò◊ï◊ê◊ú◊ô ◊†◊ï◊¶◊® ◊ë◊î◊¶◊ú◊ó◊î',\n    };\n  }\n}\n\n/**\n * Sales Manager Agent - Manages initial negotiations and sends demos\n */\nexport class SalesAgent extends BaseAgent {\n  constructor() {\n    super(\n      AGENT_TYPES.SALES,\n      'Sales Manager Agent',\n      '◊û◊†◊î◊ú ◊û◊©◊ê ◊ï◊û◊™◊ü ◊®◊ê◊©◊ï◊†◊ô ◊ï◊©◊ï◊ú◊ó ◊ì◊û◊ï◊ê◊ô◊ù'\n    );\n    this.dealsInProgress = 0;\n    this.dealsClosedToday = 0;\n  }\n\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    \n    try {\n      let result;\n      \n      switch (task.type) {\n        case 'send_demo':\n          result = await this.sendDemo(task.lead);\n          break;\n        case 'negotiate':\n          result = await this.handleNegotiation(task.deal);\n          break;\n        case 'follow_up':\n          result = await this.followUp(task.leadId);\n          break;\n        default:\n          throw new Error(`Unknown task type: ${task.type}`);\n      }\n      \n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n\n  async sendDemo(lead) {\n    await new Promise((r) => setTimeout(r, 1500));\n    \n    this.dealsInProgress++;\n    \n    return {\n      success: true,\n      demo: {\n        id: Date.now(),\n        leadId: lead.id,\n        demoUrl: `https://demo.hotel.ai/${lead.id}`,\n        sentAt: new Date().toISOString(),\n      },\n      message: `◊ì◊û◊ï ◊†◊©◊ú◊ó ◊ú-${lead.name || '◊ú◊ô◊ì'}`,\n    };\n  }\n\n  async handleNegotiation(deal) {\n    await new Promise((r) => setTimeout(r, 2000));\n    \n    return {\n      success: true,\n      negotiation: {\n        id: Date.now(),\n        dealId: deal.id,\n        stage: 'proposal_sent',\n        nextAction: 'await_response',\n      },\n      message: '◊û◊©◊ê ◊ï◊û◊™◊ü ◊î◊™◊ó◊ô◊ú',\n    };\n  }\n\n  async followUp(leadId) {\n    await new Promise((r) => setTimeout(r, 1000));\n    \n    return {\n      success: true,\n      followUp: {\n        leadId,\n        sentAt: new Date().toISOString(),\n        type: 'email',\n      },\n      message: '◊û◊¢◊ß◊ë ◊†◊©◊ú◊ó',\n    };\n  }\n}\n\n/**\n * Operations Agent - Sends WhatsApp messages to staff for cleaning, maintenance, etc.\n */\nexport class OperationsAgent extends BaseAgent {\n  constructor() {\n    super(\n      AGENT_TYPES.OPERATIONS,\n      'Operations Agent',\n      '◊©◊ï◊ú◊ó ◊î◊ï◊ì◊¢◊ï◊™ WhatsApp ◊ú◊¢◊ï◊ë◊ì◊ô◊ù ◊ú◊§◊ô ◊ë◊ß◊©◊ï◊™ ◊ê◊ï◊®◊ó◊ô◊ù'\n    );\n    this.messagesSent = 0;\n    this.tasksAssigned = 0;\n  }\n\n  async execute(task) {\n    this.setStatus(AGENT_STATUS.BUSY);\n    \n    try {\n      let result;\n      \n      switch (task.type) {\n        case 'request_towels':\n          result = await this.sendStaffMessage('housekeeping', task);\n          break;\n        case 'request_cleaning':\n          result = await this.sendStaffMessage('housekeeping', task);\n          break;\n        case 'maintenance_request':\n          result = await this.sendStaffMessage('maintenance', task);\n          break;\n        case 'room_service':\n          result = await this.sendStaffMessage('room_service', task);\n          break;\n        case 'guest_checkout':\n          result = await this.handleCheckout(task);\n          break;\n        default:\n          result = await this.sendStaffMessage('general', task);\n      }\n      \n      this.setStatus(AGENT_STATUS.ONLINE);\n      return result;\n    } catch (error) {\n      this.setStatus(AGENT_STATUS.ERROR);\n      throw error;\n    }\n  }\n\n  async sendStaffMessage(department, task) {\n    await new Promise((r) => setTimeout(r, 800));\n    \n    this.messagesSent++;\n    this.tasksAssigned++;\n    \n    // In production, this would call Twilio/Meta WhatsApp API\n    const message = this.generateMessage(department, task);\n    \n    return {\n      success: true,\n      message: {\n        id: Date.now(),\n        department,\n        room: task.room,\n        content: message,\n        sentAt: new Date().toISOString(),\n        status: 'delivered',\n      },\n      displayMessage: `◊î◊ï◊ì◊¢◊™ WhatsApp ◊†◊©◊ú◊ó◊î ◊ú◊û◊ó◊ú◊ß◊™ ${department === 'housekeeping' ? '◊û◊©◊ß ◊ë◊ô◊™' : department}`,\n    };\n  }\n\n  generateMessage(department, task) {\n    const messages = {\n      housekeeping: `üè® ◊ë◊ß◊©◊î ◊ó◊ì◊©◊î ◊û◊ó◊ì◊® ${task.room}\\n\\n${task.description || '◊û◊í◊ë◊ï◊™ ◊†◊ì◊®◊©◊ï◊™'}\\n\\n‚è∞ ◊ê◊†◊ê ◊ò◊§◊ú ◊ë◊î◊ß◊ì◊ù ◊î◊ê◊§◊©◊®◊ô`,\n      maintenance: `üîß ◊™◊ó◊ñ◊ï◊ß◊î ◊†◊ì◊®◊©◊™ ◊ë◊ó◊ì◊® ${task.room}\\n\\n${task.description || '◊ë◊¢◊ô◊î ◊ò◊õ◊†◊ô◊™'}\\n\\n‚ö†Ô∏è ◊ì◊ó◊ô◊§◊ï◊™: ${task.priority || '◊®◊í◊ô◊ú◊î'}`,\n      room_service: `üçΩÔ∏è ◊î◊ñ◊û◊†◊™ ◊©◊ô◊®◊ï◊™ ◊ó◊ì◊®◊ô◊ù\\n\\n◊ó◊ì◊®: ${task.room}\\n${task.order || ''}\\n\\n‚è∞ ◊ñ◊û◊ü ◊û◊©◊ú◊ï◊ó ◊û◊ë◊ï◊ß◊©: ${task.deliveryTime || '◊ë◊î◊ß◊ì◊ù'}`,\n      general: `üìã ◊ë◊ß◊©◊î ◊ó◊ì◊©◊î ◊û◊ó◊ì◊® ${task.room}\\n\\n${task.description || '◊ë◊ß◊©◊™ ◊ê◊ï◊®◊ó'}`,\n    };\n    \n    return messages[department] || messages.general;\n  }\n\n  async handleCheckout(task) {\n    await new Promise((r) => setTimeout(r, 1000));\n    \n    // Send multiple messages for checkout process\n    await this.sendStaffMessage('housekeeping', {\n      room: task.room,\n      description: '◊†◊ô◊ß◊ô◊ï◊ü ◊ú◊ê◊ó◊® ◊¶\\'◊ß-◊ê◊ê◊ï◊ò',\n      priority: '◊í◊ë◊ï◊î◊î',\n    });\n    \n    return {\n      success: true,\n      checkout: {\n        room: task.room,\n        guestName: task.guestName,\n        processedAt: new Date().toISOString(),\n      },\n      displayMessage: `◊™◊î◊ú◊ô◊ö ◊¶'◊ß-◊ê◊ê◊ï◊ò ◊î◊ï◊©◊ú◊ù ◊¢◊ë◊ï◊® ◊ó◊ì◊® ${task.room}`,\n    };\n  }\n}\n\n/**\n * Maya - The Master Orchestrator\n * Manages all agents and handles high-level decisions\n */\nclass MayaOrchestrator {\n  constructor() {\n    this.agents = {\n      [AGENT_TYPES.SCRAPER]: new ScraperAgent(),\n      [AGENT_TYPES.MARKETING]: new MarketingAgent(),\n      [AGENT_TYPES.CREATIVE]: new CreativeAgent(),\n      [AGENT_TYPES.SALES]: new SalesAgent(),\n      [AGENT_TYPES.OPERATIONS]: new OperationsAgent(),\n    };\n    \n    this.taskHistory = [];\n    this.isProcessing = false;\n  }\n\n  /**\n   * Execute a task using the appropriate agent\n   */\n  async executeTask(agentType, task) {\n    const agent = this.agents[agentType];\n    \n    if (!agent) {\n      throw new Error(`Agent ${agentType} not found`);\n    }\n    \n    const taskRecord = {\n      id: Date.now(),\n      agentType,\n      task,\n      startedAt: new Date().toISOString(),\n      status: 'running',\n    };\n    \n    this.taskHistory.push(taskRecord);\n    \n    try {\n      const result = await agent.execute(task);\n      taskRecord.completedAt = new Date().toISOString();\n      taskRecord.status = 'completed';\n      taskRecord.result = result;\n      return result;\n    } catch (error) {\n      taskRecord.completedAt = new Date().toISOString();\n      taskRecord.status = 'failed';\n      taskRecord.error = error.message;\n      throw error;\n    }\n  }\n\n  /**\n   * Get all agent statuses\n   */\n  getAgentStatuses() {\n    return Object.entries(this.agents).reduce((acc, [type, agent]) => {\n      acc[type] = {\n        status: agent.status,\n        name: agent.name,\n        description: agent.description,\n      };\n      return acc;\n    }, {});\n  }\n\n  /**\n   * Process natural language command from Maya chat\n   */\n  async processCommand(command) {\n    const lowerCommand = command.toLowerCase();\n    \n    // Detect intent and route to appropriate agent\n    if (lowerCommand.includes('◊ú◊ô◊ì') || lowerCommand.includes('◊°◊®◊ô◊ß◊î') || lowerCommand.includes('airbnb')) {\n      return await this.executeTask(AGENT_TYPES.SCRAPER, { platforms: ['airbnb', 'booking'] });\n    }\n    \n    if (lowerCommand.includes('◊§◊ï◊°◊ò') || lowerCommand.includes('◊©◊ô◊ï◊ï◊ß') || lowerCommand.includes('◊ß◊û◊§◊ô◊ô◊ü')) {\n      return await this.executeTask(AGENT_TYPES.MARKETING, {\n        type: 'social_post',\n        content: { text: '◊§◊ï◊°◊ò ◊ó◊ì◊© ◊û◊î◊û◊ú◊ï◊ü', platforms: ['instagram', 'facebook'] },\n      });\n    }\n    \n    if (lowerCommand.includes('◊ï◊ô◊ì◊ê◊ï') || lowerCommand.includes('◊™◊û◊ï◊†') || lowerCommand.includes('◊¢◊®◊ô◊õ◊î')) {\n      return await this.executeTask(AGENT_TYPES.CREATIVE, {\n        type: 'enhance_images',\n        images: ['https://example.com/room1.jpg'],\n      });\n    }\n    \n    if (lowerCommand.includes('◊ì◊û◊ï') || lowerCommand.includes('◊û◊õ◊ô◊®') || lowerCommand.includes('◊¢◊°◊ß◊î')) {\n      return await this.executeTask(AGENT_TYPES.SALES, {\n        type: 'send_demo',\n        lead: { id: Date.now(), name: '◊ú◊ß◊ï◊ó ◊ó◊ì◊©' },\n      });\n    }\n    \n    if (lowerCommand.includes('◊û◊í◊ë◊™') || lowerCommand.includes('◊†◊ô◊ß◊ô◊ï◊ü') || lowerCommand.includes('◊™◊ó◊ñ◊ï◊ß◊î') || lowerCommand.includes('◊ó◊ì◊®')) {\n      const roomMatch = command.match(/\\d+/);\n      const room = roomMatch ? roomMatch[0] : '101';\n      \n      return await this.executeTask(AGENT_TYPES.OPERATIONS, {\n        type: 'request_towels',\n        room,\n        description: command,\n      });\n    }\n    \n    // Default response\n    return {\n      success: true,\n      message: '◊ú◊ê ◊î◊¶◊ú◊ó◊™◊ô ◊ú◊î◊ë◊ô◊ü ◊ê◊™ ◊î◊ë◊ß◊©◊î. ◊ê◊†◊ê ◊†◊°◊î ◊©◊ï◊ë ◊ê◊ï ◊ë◊ó◊® ◊§◊¢◊ï◊ú◊î ◊û◊î◊™◊§◊®◊ô◊ò.',\n    };\n  }\n\n  /**\n   * Get task history\n   */\n  getTaskHistory(limit = 50) {\n    return this.taskHistory.slice(-limit).reverse();\n  }\n\n  /**\n   * Generate daily report\n   */\n  async generateDailyReport() {\n    const today = new Date().toISOString().split('T')[0];\n    const todaysTasks = this.taskHistory.filter(\n      (t) => t.startedAt.startsWith(today)\n    );\n    \n    const completedTasks = todaysTasks.filter((t) => t.status === 'completed');\n    const failedTasks = todaysTasks.filter((t) => t.status === 'failed');\n    \n    // Calculate savings (mock calculation - would be real in production)\n    const avgTimePerTask = 15; // minutes saved per automated task\n    const hourlyRate = 50; // ‚Ç™ per hour\n    const timeSaved = completedTasks.length * avgTimePerTask;\n    const moneySaved = (timeSaved / 60) * hourlyRate;\n    \n    return {\n      date: today,\n      summary: {\n        totalTasks: todaysTasks.length,\n        completedTasks: completedTasks.length,\n        failedTasks: failedTasks.length,\n        successRate: todaysTasks.length > 0 \n          ? ((completedTasks.length / todaysTasks.length) * 100).toFixed(1)\n          : 100,\n      },\n      savings: {\n        timeSavedMinutes: timeSaved,\n        moneySaved: moneySaved,\n        automationRate: 82, // Would be calculated from actual data\n      },\n      agentStats: Object.entries(this.agents).map(([type, agent]) => ({\n        type,\n        name: agent.name,\n        status: agent.status,\n        tasksToday: todaysTasks.filter((t) => t.agentType === type).length,\n      })),\n      recommendations: [\n        '◊†◊û◊¶◊ê◊ï 5 ◊ú◊ô◊ì◊ô◊ù ◊ó◊û◊ô◊ù ◊©◊ì◊ï◊®◊©◊ô◊ù ◊û◊¢◊ß◊ë',\n        '◊ß◊û◊§◊ô◊ô◊ü ◊î◊ê◊ô◊û◊ô◊ô◊ú ◊î◊ê◊ó◊®◊ï◊ü ◊î◊†◊ô◊ë 12% ◊î◊û◊®◊ï◊™',\n        '◊û◊ï◊û◊ú◊• ◊ú◊î◊§◊¢◊ô◊ú ◊°◊®◊ô◊ß◊™ ◊û◊™◊ó◊®◊ô◊ù ◊©◊ë◊ï◊¢◊ô◊™',\n      ],\n    };\n  }\n}\n\n// Singleton instance\nexport const maya = new MayaOrchestrator();\n\nexport default maya;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}