{"ast":null,"code":"/**\n * Format phone number for WhatsApp wa.me links (international format).\n * Israeli numbers: 052-123-4567 -> 972521234567\n * @param {string} phone - Raw phone (e.g. \"052-1234567\", \"+972 52 123 4567\")\n * @returns {string} Digits only, with 972 prefix for Israeli local numbers\n */\nexport function toWhatsAppPhone(phone) {\n  if (!phone) return '';\n  const digits = String(phone).replace(/\\D/g, '');\n  if (digits.startsWith('0') && digits.length >= 9) return '972' + digits.slice(1);\n  if (!digits.startsWith('972') && digits.length >= 9) return '972' + digits;\n  return digits;\n}\n\n/** Staff phone fallback for WhatsApp: Alma=0501234567 */\nexport const STAFF_PHONE_FALLBACK = {\n  alma: '0501234567',\n  עלמה: '0501234567',\n  kobi: '0521234567',\n  קובי: '0521234567',\n  avi: '0502223334',\n  אבי: '0502223334'\n};\n\n/**\n * Get WhatsApp phone for a task. Alma always uses 0501234567 per requirements.\n */\nexport function getTaskWhatsAppPhone(task) {\n  var _task$staff_name, _ref, _task$staff_phone, _ref2, _task$staff_phone2, _ref3, _task$staff_phone3;\n  const staff = (((_task$staff_name = task === null || task === void 0 ? void 0 : task.staff_name) !== null && _task$staff_name !== void 0 ? _task$staff_name : task === null || task === void 0 ? void 0 : task.staffName) || '').toString().toLowerCase();\n  if (staff.includes('alma') || staff.includes('עלמה')) return toWhatsAppPhone('0501234567');\n  if (staff.includes('kobi') || staff.includes('קובי')) return toWhatsAppPhone((_ref = (_task$staff_phone = task === null || task === void 0 ? void 0 : task.staff_phone) !== null && _task$staff_phone !== void 0 ? _task$staff_phone : task === null || task === void 0 ? void 0 : task.staffPhone) !== null && _ref !== void 0 ? _ref : '0521234567');\n  if (staff.includes('avi') || staff.includes('אבי')) return toWhatsAppPhone((_ref2 = (_task$staff_phone2 = task === null || task === void 0 ? void 0 : task.staff_phone) !== null && _task$staff_phone2 !== void 0 ? _task$staff_phone2 : task === null || task === void 0 ? void 0 : task.staffPhone) !== null && _ref2 !== void 0 ? _ref2 : '0502223334');\n  const phone = (_ref3 = (_task$staff_phone3 = task === null || task === void 0 ? void 0 : task.staff_phone) !== null && _task$staff_phone3 !== void 0 ? _task$staff_phone3 : task === null || task === void 0 ? void 0 : task.staffPhone) !== null && _ref3 !== void 0 ? _ref3 : '';\n  return phone ? toWhatsAppPhone(phone) : '';\n}","map":{"version":3,"names":["toWhatsAppPhone","phone","digits","String","replace","startsWith","length","slice","STAFF_PHONE_FALLBACK","alma","עלמה","kobi","קובי","avi","אבי","getTaskWhatsAppPhone","task","_task$staff_name","_ref","_task$staff_phone","_ref2","_task$staff_phone2","_ref3","_task$staff_phone3","staff","staff_name","staffName","toString","toLowerCase","includes","staff_phone","staffPhone"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/utils/phone.js"],"sourcesContent":["/**\n * Format phone number for WhatsApp wa.me links (international format).\n * Israeli numbers: 052-123-4567 -> 972521234567\n * @param {string} phone - Raw phone (e.g. \"052-1234567\", \"+972 52 123 4567\")\n * @returns {string} Digits only, with 972 prefix for Israeli local numbers\n */\nexport function toWhatsAppPhone(phone) {\n  if (!phone) return '';\n  const digits = String(phone).replace(/\\D/g, '');\n  if (digits.startsWith('0') && digits.length >= 9) return '972' + digits.slice(1);\n  if (!digits.startsWith('972') && digits.length >= 9) return '972' + digits;\n  return digits;\n}\n\n/** Staff phone fallback for WhatsApp: Alma=0501234567 */\nexport const STAFF_PHONE_FALLBACK = { alma: '0501234567', עלמה: '0501234567', kobi: '0521234567', קובי: '0521234567', avi: '0502223334', אבי: '0502223334' };\n\n/**\n * Get WhatsApp phone for a task. Alma always uses 0501234567 per requirements.\n */\nexport function getTaskWhatsAppPhone(task) {\n  const staff = ((task?.staff_name ?? task?.staffName) || '').toString().toLowerCase();\n  if (staff.includes('alma') || staff.includes('עלמה')) return toWhatsAppPhone('0501234567');\n  if (staff.includes('kobi') || staff.includes('קובי')) return toWhatsAppPhone(task?.staff_phone ?? task?.staffPhone ?? '0521234567');\n  if (staff.includes('avi') || staff.includes('אבי')) return toWhatsAppPhone(task?.staff_phone ?? task?.staffPhone ?? '0502223334');\n  const phone = task?.staff_phone ?? task?.staffPhone ?? '';\n  return phone ? toWhatsAppPhone(phone) : '';\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,eAAeA,CAACC,KAAK,EAAE;EACrC,IAAI,CAACA,KAAK,EAAE,OAAO,EAAE;EACrB,MAAMC,MAAM,GAAGC,MAAM,CAACF,KAAK,CAAC,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAC/C,IAAIF,MAAM,CAACG,UAAU,CAAC,GAAG,CAAC,IAAIH,MAAM,CAACI,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK,GAAGJ,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC;EAChF,IAAI,CAACL,MAAM,CAACG,UAAU,CAAC,KAAK,CAAC,IAAIH,MAAM,CAACI,MAAM,IAAI,CAAC,EAAE,OAAO,KAAK,GAAGJ,MAAM;EAC1E,OAAOA,MAAM;AACf;;AAEA;AACA,OAAO,MAAMM,oBAAoB,GAAG;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE,YAAY;EAAEC,IAAI,EAAE,YAAY;EAAEC,GAAG,EAAE,YAAY;EAAEC,GAAG,EAAE;AAAa,CAAC;;AAE5J;AACA;AACA;AACA,OAAO,SAASC,oBAAoBA,CAACC,IAAI,EAAE;EAAA,IAAAC,gBAAA,EAAAC,IAAA,EAAAC,iBAAA,EAAAC,KAAA,EAAAC,kBAAA,EAAAC,KAAA,EAAAC,kBAAA;EACzC,MAAMC,KAAK,GAAG,CAAC,EAAAP,gBAAA,GAACD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,UAAU,cAAAR,gBAAA,cAAAA,gBAAA,GAAID,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEU,SAAS,KAAK,EAAE,EAAEC,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EACpF,IAAIJ,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,IAAIL,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAO7B,eAAe,CAAC,YAAY,CAAC;EAC1F,IAAIwB,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,IAAIL,KAAK,CAACK,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAO7B,eAAe,EAAAkB,IAAA,IAAAC,iBAAA,GAACH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEc,WAAW,cAAAX,iBAAA,cAAAA,iBAAA,GAAIH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEe,UAAU,cAAAb,IAAA,cAAAA,IAAA,GAAI,YAAY,CAAC;EACnI,IAAIM,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC,IAAIL,KAAK,CAACK,QAAQ,CAAC,KAAK,CAAC,EAAE,OAAO7B,eAAe,EAAAoB,KAAA,IAAAC,kBAAA,GAACL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEc,WAAW,cAAAT,kBAAA,cAAAA,kBAAA,GAAIL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEe,UAAU,cAAAX,KAAA,cAAAA,KAAA,GAAI,YAAY,CAAC;EACjI,MAAMnB,KAAK,IAAAqB,KAAA,IAAAC,kBAAA,GAAGP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEc,WAAW,cAAAP,kBAAA,cAAAA,kBAAA,GAAIP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEe,UAAU,cAAAT,KAAA,cAAAA,KAAA,GAAI,EAAE;EACzD,OAAOrB,KAAK,GAAGD,eAAe,CAACC,KAAK,CAAC,GAAG,EAAE;AAC5C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}