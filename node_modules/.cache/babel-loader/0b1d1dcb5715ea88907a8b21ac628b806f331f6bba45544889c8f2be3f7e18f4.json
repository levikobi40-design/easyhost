{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\hotel_ai_assistant\\\\hotel_dashboard\\\\src\\\\components\\\\crm\\\\LeadsCRM.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Users, Search, Filter, Plus, Mail, Phone, Globe, Calendar, Tag, Star, ArrowUpRight, ExternalLink, MessageCircle, TrendingUp, Target, BarChart3, Activity } from 'lucide-react';\nimport useTranslations from '../../hooks/useTranslations';\nimport useStore from '../../store/useStore';\nimport { maya, AGENT_TYPES } from '../../services/agentOrchestrator';\nimport { getLeads, getAutomationStats, subscribeToLeads, getFinancialSummary } from '../../services/api';\nimport { whatsappService } from '../../services/whatsapp';\nimport './LeadsCRM.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst sourceIcons = {\n  airbnb: 'ðŸ ',\n  booking: 'ðŸ“…',\n  direct: 'ðŸŽ¯',\n  referral: 'ðŸ‘¥',\n  social: 'ðŸ“±'\n};\nfunction FinancialStat({\n  label,\n  value,\n  trend,\n  icon: Icon\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"financial-stat bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-start mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-50 rounded-2xl text-gray-800\",\n        children: /*#__PURE__*/_jsxDEV(Icon, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), trend != null && trend !== '' && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-emerald-500 text-xs font-bold flex items-center gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n          size: 12\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this), \" \", trend]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500 text-xs font-medium mb-1\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-2xl font-black text-gray-900\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_c = FinancialStat;\nconst LeadsCRM = () => {\n  _s();\n  var _financials$avg_ltv, _financials$conversio, _financials$projected, _automationStats$auto;\n  const {\n    t\n  } = useTranslations();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [selectedLead, setSelectedLead] = useState(null);\n  const [isScanning, setIsScanning] = useState(false);\n  const [leads, setLeads] = useState([]);\n  const [isLoadingLeads, setIsLoadingLeads] = useState(true);\n  const [financials, setFinancials] = useState(null);\n  const greetedLeadIdsRef = useRef(new Set());\n  const paymentAlertedIdsRef = useRef(new Set());\n  const {\n    addNotification,\n    lang,\n    setLeads: setStoreLeads,\n    automationStats,\n    objectionSuccess,\n    setAutomationStats,\n    setObjectionSuccess,\n    activeTenantId,\n    authToken\n  } = useStore();\n  const isRTL = lang === 'he';\n  const statusOptions = [{\n    value: 'all',\n    label: t('leadsCRM.status.all'),\n    color: '#64748b'\n  }, {\n    value: 'new',\n    label: t('leadsCRM.status.new'),\n    color: '#3b82f6'\n  }, {\n    value: 'contacted',\n    label: t('leadsCRM.status.contacted'),\n    color: '#f59e0b'\n  }, {\n    value: 'qualified',\n    label: t('leadsCRM.status.qualified'),\n    color: '#8b5cf6'\n  }, {\n    value: 'converted',\n    label: t('leadsCRM.status.converted'),\n    color: '#10b981'\n  }, {\n    value: 'lost',\n    label: t('leadsCRM.status.lost'),\n    color: '#ef4444'\n  }];\n  const leadsWithFallback = leads;\n  const filteredLeads = leadsWithFallback.filter(lead => {\n    const matchesSearch = lead.name.toLowerCase().includes(searchQuery.toLowerCase()) || lead.contact.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesStatus = statusFilter === 'all' || lead.status === statusFilter;\n    return matchesSearch && matchesStatus;\n  });\n  const normalizeLead = lead => {\n    const safeLead = lead || {};\n    const fallbackId = safeLead.id || safeLead.lead_id || `${safeLead.email || safeLead.phone || Date.now()}`;\n    const name = safeLead.name || safeLead.property_name || safeLead.property || 'Unknown Property';\n    const contact = safeLead.contact || safeLead.full_name || safeLead.guest_name || 'Guest';\n    return {\n      id: fallbackId,\n      name,\n      contact,\n      email: safeLead.email || '',\n      phone: safeLead.phone || '',\n      source: safeLead.source || 'direct',\n      status: safeLead.status || 'new',\n      value: safeLead.value || 0,\n      rating: safeLead.rating || 0,\n      createdAt: safeLead.createdAt || safeLead.created_at || new Date().toISOString(),\n      notes: safeLead.notes || '',\n      photo: safeLead.photo || `https://api.dicebear.com/7.x/personas/svg?seed=${encodeURIComponent(contact)}&backgroundColor=0b1220&radius=20`,\n      property: safeLead.property || name\n    };\n  };\n  useEffect(() => {\n    let isActive = true;\n    const loadLeads = async () => {\n      setIsLoadingLeads(true);\n      try {\n        const results = await getLeads(statusFilter === 'all' ? null : statusFilter);\n        const normalized = Array.isArray(results) ? results.map(normalizeLead) : [];\n        if (isActive) {\n          setLeads(normalized);\n          setStoreLeads(normalized);\n        }\n      } catch (error) {\n        console.error('Failed to load leads:', error);\n      } finally {\n        if (isActive) setIsLoadingLeads(false);\n      }\n    };\n    loadLeads();\n    return () => {\n      isActive = false;\n    };\n  }, [statusFilter, setStoreLeads, activeTenantId, authToken]);\n  useEffect(() => {\n    let isActive = true;\n    const loadFinancials = async () => {\n      try {\n        const data = await getFinancialSummary();\n        if (isActive) setFinancials(data);\n      } catch (e) {\n        if (isActive) setFinancials({\n          avg_ltv: 'â‚ª0',\n          conversion_rate: '0%',\n          projected_revenue: 'â‚ª0'\n        });\n      }\n    };\n    loadFinancials();\n    return () => {\n      isActive = false;\n    };\n  }, [activeTenantId, authToken]);\n  useEffect(() => {\n    let isActive = true;\n    const loadAutomationStats = async () => {\n      try {\n        const statsResponse = await getAutomationStats();\n        if (!isActive) return;\n        setAutomationStats(statsResponse.automation_stats);\n        setObjectionSuccess(statsResponse.objection_success);\n      } catch (error) {\n        console.error('Failed to load automation stats:', error);\n      }\n    };\n    loadAutomationStats();\n    return () => {\n      isActive = false;\n    };\n  }, [setAutomationStats, setObjectionSuccess, activeTenantId, authToken]);\n  useEffect(() => {\n    const handleNewLead = async incoming => {\n      const normalized = normalizeLead(incoming);\n      setLeads(prev => {\n        const nextLeads = [normalized, ...prev];\n        setStoreLeads(nextLeads);\n        return nextLeads;\n      });\n      if (!greetedLeadIdsRef.current.has(normalized.id)) {\n        greetedLeadIdsRef.current.add(normalized.id);\n        try {\n          await whatsappService.sendLeadGreeting(normalized, lang);\n          addNotification({\n            type: 'success',\n            title: t('leadsCRM.actions.sendDemo'),\n            message: t('leadsCRM.autoGreetingSent', {\n              name: normalized.contact\n            })\n          });\n        } catch (error) {\n          console.error('Failed to send greeting:', error);\n        }\n      }\n    };\n    const handleLeadUpdated = incoming => {\n      const normalized = normalizeLead(incoming);\n      const hasPaymentLink = Boolean(normalized.payment_link);\n      const isPaid = normalized.status === 'paid';\n      if ((hasPaymentLink || isPaid) && !paymentAlertedIdsRef.current.has(normalized.id)) {\n        paymentAlertedIdsRef.current.add(normalized.id);\n        addNotification({\n          type: 'warning',\n          title: t('notifications.paymentLinkReady', {\n            defaultValue: 'Payment Link Ready'\n          }),\n          message: t('notifications.paymentLinkMessage', {\n            defaultValue: `${normalized.contact || normalized.name} is ready to finalize payment.`\n          })\n        });\n      }\n      setLeads(prev => {\n        const nextLeads = prev.map(lead => lead.id === normalized.id ? {\n          ...lead,\n          ...normalized\n        } : lead);\n        setStoreLeads(nextLeads);\n        return nextLeads;\n      });\n    };\n    const handleAutomationStats = statsUpdate => {\n      setAutomationStats(statsUpdate);\n    };\n    const eventSource = subscribeToLeads(handleNewLead, handleLeadUpdated, error => {\n      console.error('Lead stream error:', error);\n    }, handleAutomationStats);\n    return () => {\n      if (eventSource && eventSource.close) eventSource.close();\n    };\n  }, [addNotification, lang, setAutomationStats, setStoreLeads, t, activeTenantId, authToken]);\n  const handleScanLeads = async () => {\n    setIsScanning(true);\n    try {\n      const result = await maya.executeTask(AGENT_TYPES.SCRAPER, {\n        platforms: ['airbnb', 'booking']\n      });\n      addNotification({\n        type: 'success',\n        title: t('leadsCRM.scanNew'),\n        message: result.message\n      });\n      if (result.leads && result.leads.length > 0) {\n        result.leads.slice(0, 3).forEach(lead => {\n          addNotification({\n            type: 'info',\n            title: t('notifications.newLead'),\n            messageKey: 'notifications.messages.newLead',\n            messageValues: {\n              platform: lead.platform || 'Airbnb'\n            },\n            data: lead\n          });\n        });\n      }\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Error',\n        message: 'Lead scan failed'\n      });\n    } finally {\n      setIsScanning(false);\n    }\n  };\n  const handleSendDemo = async lead => {\n    try {\n      const result = await maya.executeTask(AGENT_TYPES.SALES, {\n        type: 'send_demo',\n        lead\n      });\n      addNotification({\n        type: 'success',\n        title: t('leadsCRM.actions.sendDemo'),\n        message: result.message\n      });\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Error',\n        message: 'Demo send failed'\n      });\n    }\n  };\n  const getStatusColor = status => {\n    var _statusOptions$find;\n    return ((_statusOptions$find = statusOptions.find(s => s.value === status)) === null || _statusOptions$find === void 0 ? void 0 : _statusOptions$find.color) || '#64748b';\n  };\n  const getStatusLabel = status => {\n    var _statusOptions$find2;\n    return ((_statusOptions$find2 = statusOptions.find(s => s.value === status)) === null || _statusOptions$find2 === void 0 ? void 0 : _statusOptions$find2.label) || status;\n  };\n  const objectionMetrics = ['price', 'location', 'rules'].map(key => {\n    const stats = (objectionSuccess === null || objectionSuccess === void 0 ? void 0 : objectionSuccess[key]) || {\n      yes: 0,\n      no: 0\n    };\n    const total = stats.yes + stats.no;\n    const rate = total > 0 ? Math.round(stats.yes / total * 100) : 0;\n    return {\n      key,\n      label: key === 'price' ? 'Price' : key === 'location' ? 'Location' : 'Rules',\n      yes: stats.yes,\n      no: stats.no,\n      rate\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"crm-container\",\n    dir: isRTL ? 'rtl' : 'ltr',\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-black text-gray-900 mb-1\",\n        children: \"Leads & Revenue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"\\u05DE\\u05E2\\u05E7\\u05D1 \\u05D0\\u05D7\\u05E8\\u05D9 \\u05D4\\u05DE\\u05E8\\u05D4 \\u05D5\\u05E8\\u05D5\\u05D5\\u05D7\\u05D9\\u05D5\\u05EA \\u05D4\\u05E0\\u05DB\\u05E1\\u05D9\\u05DD \\u05E9\\u05DC\\u05DA.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(FinancialStat, {\n        label: \"LTV \\u05DE\\u05DE\\u05D5\\u05E6\\u05E2\",\n        value: (_financials$avg_ltv = financials === null || financials === void 0 ? void 0 : financials.avg_ltv) !== null && _financials$avg_ltv !== void 0 ? _financials$avg_ltv : 'â‚ª0',\n        trend: \"\",\n        icon: Users\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FinancialStat, {\n        label: \"\\u05D9\\u05D7\\u05E1 \\u05D4\\u05DE\\u05E8\\u05D4\",\n        value: (_financials$conversio = financials === null || financials === void 0 ? void 0 : financials.conversion_rate) !== null && _financials$conversio !== void 0 ? _financials$conversio : '0%',\n        trend: \"\",\n        icon: Target\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FinancialStat, {\n        label: \"\\u05E8\\u05D5\\u05D5\\u05D7 \\u05EA\\u05E4\\u05E2\\u05D5\\u05DC\\u05D9\",\n        value: (_financials$projected = financials === null || financials === void 0 ? void 0 : financials.projected_revenue) !== null && _financials$projected !== void 0 ? _financials$projected : 'â‚ª0',\n        trend: \"\",\n        icon: BarChart3\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FinancialStat, {\n        label: \"\\u05E2\\u05DC\\u05D5\\u05EA \\u05E0\\u05D9\\u05E7\\u05D9\\u05D5\\u05DF \\u05DE\\u05DE\\u05D5\\u05E6\\u05E2\\u05EA\",\n        value: \"\\u20AA350\",\n        trend: \"-2%\",\n        icon: Activity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"crm-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crm-title\",\n        children: [/*#__PURE__*/_jsxDEV(Users, {\n          size: 28\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: t('leadsCRM.title')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: t('leadsCRM.leadCount', {\n              count: filteredLeads.length\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleScanLeads,\n        disabled: isScanning,\n        className: \"btn-primary scan-btn\",\n        children: isScanning ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18,\n            className: \"animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), t('common.scanning')]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), t('leadsCRM.scanNew')]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"crm-filters glass-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-box\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: t('leadsCRM.searchPlaceholder'),\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-filters\",\n        children: statusOptions.map(status => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStatusFilter(status.value),\n          className: `status-filter-btn ${statusFilter === status.value ? 'active' : ''}`,\n          style: {\n            '--status-color': status.color\n          },\n          children: status.label\n        }, status.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-100 bg-gray-50/50\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-bold text-gray-800\",\n          children: \"\\u05DC\\u05D9\\u05D3\\u05D9\\u05DD \\u05D0\\u05D7\\u05E8\\u05D5\\u05E0\\u05D9\\u05DD \\u05DE\\u05D4-Scraper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), isLoadingLeads ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-12 text-center text-gray-400\",\n        children: \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05DC\\u05D9\\u05D3\\u05D9\\u05DD...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full text-right min-w-[500px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"text-gray-400 text-xs uppercase tracking-wider\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-6\",\n                children: \"\\u05DE\\u05E7\\u05D5\\u05E8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-6\",\n                children: \"\\u05E9\\u05DD \\u05D4\\u05E0\\u05DB\\u05E1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-6\",\n                children: \"\\u05E1\\u05D8\\u05D8\\u05D5\\u05E1 \\u05D4\\u05DE\\u05E8\\u05D4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-6\",\n                children: \"\\u05E4\\u05D5\\u05D8\\u05E0\\u05E6\\u05D9\\u05D0\\u05DC \\u05D4\\u05DB\\u05E0\\u05E1\\u05D4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"p-6 w-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"text-sm\",\n            children: filteredLeads.slice(0, 10).map(lead => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-t border-gray-50 hover:bg-gray-50/50 transition-colors cursor-pointer\",\n              onClick: () => setSelectedLead(lead),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-6 font-bold text-blue-600\",\n                children: lead.source || 'direct'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-6 text-gray-800\",\n                children: lead.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-6\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-3 py-1 rounded-full text-[10px] font-bold\",\n                  style: {\n                    backgroundColor: `${getStatusColor(lead.status)}20`,\n                    color: getStatusColor(lead.status)\n                  },\n                  children: getStatusLabel(lead.status).toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-6 font-black\",\n                children: [\"\\u20AA\", Number(lead.value || 0).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"p-2 text-gray-400 hover:text-blue-600\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    setSelectedLead(lead);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(ArrowUpRight, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 21\n              }, this)]\n            }, lead.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), filteredLeads.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-12 text-center text-gray-400\",\n          children: \"\\u05D0\\u05D9\\u05DF \\u05DC\\u05D9\\u05D3\\u05D9\\u05DD \\u05DC\\u05D4\\u05E6\\u05D2\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"crm-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crm-stat glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value text-gradient\",\n          children: leadsWithFallback.filter(l => l.status === 'new').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: t('leadsCRM.stats.newLeads')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crm-stat glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          style: {\n            color: '#f59e0b'\n          },\n          children: leadsWithFallback.filter(l => l.status === 'contacted').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: t('leadsCRM.stats.inProgress')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crm-stat glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          style: {\n            color: '#8b5cf6'\n          },\n          children: leadsWithFallback.filter(l => l.status === 'qualified').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: t('leadsCRM.stats.qualified')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crm-stat glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          style: {\n            color: '#10b981'\n          },\n          children: [\"\\u20AA\", leadsWithFallback.reduce((sum, l) => sum + l.value, 0).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: t('leadsCRM.stats.totalValue')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crm-stat glass-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          style: {\n            color: '#38bdf8'\n          },\n          children: (_automationStats$auto = automationStats === null || automationStats === void 0 ? void 0 : automationStats.automated_messages) !== null && _automationStats$auto !== void 0 ? _automationStats$auto : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"AI Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-meter glass-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-meter-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Success Meter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"success-meter-subtitle\",\n          children: \"Objection conversion performance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-meter-grid\",\n        children: objectionMetrics.map(metric => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-meter-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"success-meter-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: metric.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [metric.rate, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"success-meter-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                width: `${metric.rate}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"success-meter-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Yes: \", metric.yes]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"No: \", metric.no]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this)]\n        }, metric.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leads-grid\",\n      children: filteredLeads.map(lead => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lead-card glass-card\",\n        onClick: () => setSelectedLead(lead),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lead-card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lead-avatar\",\n            style: {\n              backgroundImage: `url(${lead.photo})`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lead-header-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"lead-name\",\n              children: lead.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"lead-contact\",\n              children: lead.contact\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"lead-status\",\n            style: {\n              '--status-color': getStatusColor(lead.status),\n              boxShadow: `0 0 16px ${getStatusColor(lead.status)}`\n            },\n            children: getStatusLabel(lead.status)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lead-card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lead-meta-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lead-meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"meta-label\",\n                children: t('leadsCRM.table.source')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"meta-value\",\n                children: [sourceIcons[lead.source], \" \", lead.source]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lead-meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"meta-label\",\n                children: t('leadsCRM.table.value')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"meta-value\",\n                children: [\"\\u20AA\", lead.value.toLocaleString(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"per-night\",\n                  children: t('leadsCRM.perNight')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 81\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lead-meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"meta-label\",\n                children: t('leadsCRM.table.rating')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"meta-value rating\",\n                children: [/*#__PURE__*/_jsxDEV(Star, {\n                  size: 14,\n                  fill: \"#fbbf24\",\n                  color: \"#fbbf24\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 23\n                }, this), lead.rating]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lead-card-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"lead-action whatsapp\",\n            title: \"WhatsApp\",\n            onClick: e => e.stopPropagation(),\n            children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"lead-action call\",\n            title: t('leadsCRM.actions.call'),\n            onClick: e => e.stopPropagation(),\n            children: /*#__PURE__*/_jsxDEV(Phone, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 15\n        }, this)]\n      }, lead.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 7\n    }, this), selectedLead && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lead-modal-backdrop\",\n      onClick: () => setSelectedLead(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lead-modal glass-card\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lead-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lead-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"source-icon large\",\n              children: sourceIcons[selectedLead.source]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: selectedLead.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedLead.contact\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedLead(null),\n            className: \"close-modal-btn\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lead-modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lead-details-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: t('leadsCRM.modal.email')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: selectedLead.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(Phone, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: t('leadsCRM.modal.phone')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: selectedLead.phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(Globe, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: t('leadsCRM.modal.source')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: selectedLead.source\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: t('leadsCRM.modal.createdAt')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: new Date(selectedLead.createdAt).toLocaleDateString(lang === 'he' ? 'he-IL' : lang === 'el' ? 'el-GR' : 'en-US')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lead-notes\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: t('leadsCRM.modal.notes')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: selectedLead.notes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lead-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSendDemo(selectedLead),\n              className: \"btn-primary\",\n              children: [/*#__PURE__*/_jsxDEV(Mail, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 21\n              }, this), t('leadsCRM.actions.sendDemo')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 660,\n                columnNumber: 21\n              }, this), t('leadsCRM.modal.sendMessage')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n_s(LeadsCRM, \"C4cxX3k7Pc29Nq3JaUFMwyQ3lgk=\", false, function () {\n  return [useTranslations, useStore];\n});\n_c2 = LeadsCRM;\nexport default LeadsCRM;\nvar _c, _c2;\n$RefreshReg$(_c, \"FinancialStat\");\n$RefreshReg$(_c2, \"LeadsCRM\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Users","Search","Filter","Plus","Mail","Phone","Globe","Calendar","Tag","Star","ArrowUpRight","ExternalLink","MessageCircle","TrendingUp","Target","BarChart3","Activity","useTranslations","useStore","maya","AGENT_TYPES","getLeads","getAutomationStats","subscribeToLeads","getFinancialSummary","whatsappService","jsxDEV","_jsxDEV","Fragment","_Fragment","sourceIcons","airbnb","booking","direct","referral","social","FinancialStat","label","value","trend","icon","Icon","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c","LeadsCRM","_s","_financials$avg_ltv","_financials$conversio","_financials$projected","_automationStats$auto","t","searchQuery","setSearchQuery","statusFilter","setStatusFilter","selectedLead","setSelectedLead","isScanning","setIsScanning","leads","setLeads","isLoadingLeads","setIsLoadingLeads","financials","setFinancials","greetedLeadIdsRef","Set","paymentAlertedIdsRef","addNotification","lang","setStoreLeads","automationStats","objectionSuccess","setAutomationStats","setObjectionSuccess","activeTenantId","authToken","isRTL","statusOptions","color","leadsWithFallback","filteredLeads","filter","lead","matchesSearch","name","toLowerCase","includes","contact","matchesStatus","status","normalizeLead","safeLead","fallbackId","id","lead_id","email","phone","Date","now","property_name","property","full_name","guest_name","source","rating","createdAt","created_at","toISOString","notes","photo","encodeURIComponent","isActive","loadLeads","results","normalized","Array","isArray","map","error","console","loadFinancials","data","e","avg_ltv","conversion_rate","projected_revenue","loadAutomationStats","statsResponse","automation_stats","objection_success","handleNewLead","incoming","prev","nextLeads","current","has","add","sendLeadGreeting","type","title","message","handleLeadUpdated","hasPaymentLink","Boolean","payment_link","isPaid","defaultValue","handleAutomationStats","statsUpdate","eventSource","close","handleScanLeads","result","executeTask","SCRAPER","platforms","length","slice","forEach","messageKey","messageValues","platform","handleSendDemo","SALES","getStatusColor","_statusOptions$find","find","s","getStatusLabel","_statusOptions$find2","objectionMetrics","key","stats","yes","no","total","rate","Math","round","dir","count","onClick","disabled","placeholder","onChange","target","style","backgroundColor","toUpperCase","Number","toLocaleString","stopPropagation","l","reduce","sum","automated_messages","metric","width","backgroundImage","boxShadow","fill","toLocaleDateString","_c2","$RefreshReg$"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/components/crm/LeadsCRM.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  Users, Search, Filter, Plus,\n  Mail, Phone, Globe, Calendar, Tag, Star,\n  ArrowUpRight, ExternalLink, MessageCircle,\n  TrendingUp, Target, BarChart3, Activity\n} from 'lucide-react';\nimport useTranslations from '../../hooks/useTranslations';\nimport useStore from '../../store/useStore';\nimport { maya, AGENT_TYPES } from '../../services/agentOrchestrator';\nimport { getLeads, getAutomationStats, subscribeToLeads, getFinancialSummary } from '../../services/api';\nimport { whatsappService } from '../../services/whatsapp';\nimport './LeadsCRM.css';\n\nconst sourceIcons = {\n  airbnb: 'ðŸ ',\n  booking: 'ðŸ“…',\n  direct: 'ðŸŽ¯',\n  referral: 'ðŸ‘¥',\n  social: 'ðŸ“±',\n};\n\nfunction FinancialStat({ label, value, trend, icon: Icon }) {\n  return (\n    <div className=\"financial-stat bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm\">\n      <div className=\"flex justify-between items-start mb-4\">\n        <div className=\"p-3 bg-gray-50 rounded-2xl text-gray-800\">\n          <Icon size={20} />\n        </div>\n        {trend != null && trend !== '' && (\n          <span className=\"text-emerald-500 text-xs font-bold flex items-center gap-1\">\n            <TrendingUp size={12} /> {trend}\n          </span>\n        )}\n      </div>\n      <p className=\"text-gray-500 text-xs font-medium mb-1\">{label}</p>\n      <h3 className=\"text-2xl font-black text-gray-900\">{value}</h3>\n    </div>\n  );\n}\n\nconst LeadsCRM = () => {\n  const { t } = useTranslations();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [selectedLead, setSelectedLead] = useState(null);\n  const [isScanning, setIsScanning] = useState(false);\n  const [leads, setLeads] = useState([]);\n  const [isLoadingLeads, setIsLoadingLeads] = useState(true);\n  const [financials, setFinancials] = useState(null);\n  const greetedLeadIdsRef = useRef(new Set());\n  const paymentAlertedIdsRef = useRef(new Set());\n  const {\n    addNotification,\n    lang,\n    setLeads: setStoreLeads,\n    automationStats,\n    objectionSuccess,\n    setAutomationStats,\n    setObjectionSuccess,\n    activeTenantId,\n    authToken,\n  } = useStore();\n\n  const isRTL = lang === 'he';\n\n  const statusOptions = [\n    { value: 'all', label: t('leadsCRM.status.all'), color: '#64748b' },\n    { value: 'new', label: t('leadsCRM.status.new'), color: '#3b82f6' },\n    { value: 'contacted', label: t('leadsCRM.status.contacted'), color: '#f59e0b' },\n    { value: 'qualified', label: t('leadsCRM.status.qualified'), color: '#8b5cf6' },\n    { value: 'converted', label: t('leadsCRM.status.converted'), color: '#10b981' },\n    { value: 'lost', label: t('leadsCRM.status.lost'), color: '#ef4444' },\n  ];\n\n  const leadsWithFallback = leads;\n  const filteredLeads = leadsWithFallback.filter((lead) => {\n    const matchesSearch =\n      lead.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      lead.contact.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesStatus = statusFilter === 'all' || lead.status === statusFilter;\n    return matchesSearch && matchesStatus;\n  });\n\n  const normalizeLead = (lead) => {\n    const safeLead = lead || {};\n    const fallbackId = safeLead.id || safeLead.lead_id || `${safeLead.email || safeLead.phone || Date.now()}`;\n    const name = safeLead.name || safeLead.property_name || safeLead.property || 'Unknown Property';\n    const contact = safeLead.contact || safeLead.full_name || safeLead.guest_name || 'Guest';\n    return {\n      id: fallbackId,\n      name,\n      contact,\n      email: safeLead.email || '',\n      phone: safeLead.phone || '',\n      source: safeLead.source || 'direct',\n      status: safeLead.status || 'new',\n      value: safeLead.value || 0,\n      rating: safeLead.rating || 0,\n      createdAt: safeLead.createdAt || safeLead.created_at || new Date().toISOString(),\n      notes: safeLead.notes || '',\n      photo: safeLead.photo || `https://api.dicebear.com/7.x/personas/svg?seed=${encodeURIComponent(contact)}&backgroundColor=0b1220&radius=20`,\n      property: safeLead.property || name,\n    };\n  };\n\n  useEffect(() => {\n    let isActive = true;\n    const loadLeads = async () => {\n      setIsLoadingLeads(true);\n      try {\n        const results = await getLeads(statusFilter === 'all' ? null : statusFilter);\n        const normalized = Array.isArray(results) ? results.map(normalizeLead) : [];\n        if (isActive) {\n          setLeads(normalized);\n          setStoreLeads(normalized);\n        }\n      } catch (error) {\n        console.error('Failed to load leads:', error);\n      } finally {\n        if (isActive) setIsLoadingLeads(false);\n      }\n    };\n\n    loadLeads();\n    return () => {\n      isActive = false;\n    };\n  }, [statusFilter, setStoreLeads, activeTenantId, authToken]);\n\n  useEffect(() => {\n    let isActive = true;\n    const loadFinancials = async () => {\n      try {\n        const data = await getFinancialSummary();\n        if (isActive) setFinancials(data);\n      } catch (e) {\n        if (isActive) setFinancials({ avg_ltv: 'â‚ª0', conversion_rate: '0%', projected_revenue: 'â‚ª0' });\n      }\n    };\n    loadFinancials();\n    return () => { isActive = false; };\n  }, [activeTenantId, authToken]);\n\n  useEffect(() => {\n    let isActive = true;\n    const loadAutomationStats = async () => {\n      try {\n        const statsResponse = await getAutomationStats();\n        if (!isActive) return;\n        setAutomationStats(statsResponse.automation_stats);\n        setObjectionSuccess(statsResponse.objection_success);\n      } catch (error) {\n        console.error('Failed to load automation stats:', error);\n      }\n    };\n\n    loadAutomationStats();\n    return () => {\n      isActive = false;\n    };\n  }, [setAutomationStats, setObjectionSuccess, activeTenantId, authToken]);\n\n  useEffect(() => {\n    const handleNewLead = async (incoming) => {\n      const normalized = normalizeLead(incoming);\n      setLeads((prev) => {\n        const nextLeads = [normalized, ...prev];\n        setStoreLeads(nextLeads);\n        return nextLeads;\n      });\n\n      if (!greetedLeadIdsRef.current.has(normalized.id)) {\n        greetedLeadIdsRef.current.add(normalized.id);\n        try {\n          await whatsappService.sendLeadGreeting(normalized, lang);\n          addNotification({\n            type: 'success',\n            title: t('leadsCRM.actions.sendDemo'),\n            message: t('leadsCRM.autoGreetingSent', { name: normalized.contact }),\n          });\n        } catch (error) {\n          console.error('Failed to send greeting:', error);\n        }\n      }\n    };\n\n    const handleLeadUpdated = (incoming) => {\n      const normalized = normalizeLead(incoming);\n    const hasPaymentLink = Boolean(normalized.payment_link);\n    const isPaid = normalized.status === 'paid';\n    if ((hasPaymentLink || isPaid) && !paymentAlertedIdsRef.current.has(normalized.id)) {\n      paymentAlertedIdsRef.current.add(normalized.id);\n      addNotification({\n        type: 'warning',\n        title: t('notifications.paymentLinkReady', { defaultValue: 'Payment Link Ready' }),\n        message: t('notifications.paymentLinkMessage', {\n          defaultValue: `${normalized.contact || normalized.name} is ready to finalize payment.`,\n        }),\n      });\n    }\n      setLeads((prev) => {\n        const nextLeads = prev.map((lead) =>\n          lead.id === normalized.id ? { ...lead, ...normalized } : lead\n        );\n        setStoreLeads(nextLeads);\n        return nextLeads;\n      });\n    };\n\n    const handleAutomationStats = (statsUpdate) => {\n      setAutomationStats(statsUpdate);\n    };\n\n    const eventSource = subscribeToLeads(\n      handleNewLead,\n      handleLeadUpdated,\n      (error) => {\n        console.error('Lead stream error:', error);\n      },\n      handleAutomationStats\n    );\n\n    return () => {\n      if (eventSource && eventSource.close) eventSource.close();\n    };\n  }, [addNotification, lang, setAutomationStats, setStoreLeads, t, activeTenantId, authToken]);\n\n  const handleScanLeads = async () => {\n    setIsScanning(true);\n    try {\n      const result = await maya.executeTask(AGENT_TYPES.SCRAPER, {\n        platforms: ['airbnb', 'booking'],\n      });\n      \n      addNotification({\n        type: 'success',\n        title: t('leadsCRM.scanNew'),\n        message: result.message,\n      });\n\n      if (result.leads && result.leads.length > 0) {\n        result.leads.slice(0, 3).forEach((lead) => {\n          addNotification({\n            type: 'info',\n            title: t('notifications.newLead'),\n            messageKey: 'notifications.messages.newLead',\n            messageValues: { platform: lead.platform || 'Airbnb' },\n            data: lead,\n          });\n        });\n      }\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Error',\n        message: 'Lead scan failed',\n      });\n    } finally {\n      setIsScanning(false);\n    }\n  };\n\n  const handleSendDemo = async (lead) => {\n    try {\n      const result = await maya.executeTask(AGENT_TYPES.SALES, {\n        type: 'send_demo',\n        lead,\n      });\n      \n      addNotification({\n        type: 'success',\n        title: t('leadsCRM.actions.sendDemo'),\n        message: result.message,\n      });\n    } catch (error) {\n      addNotification({\n        type: 'error',\n        title: 'Error',\n        message: 'Demo send failed',\n      });\n    }\n  };\n\n  const getStatusColor = (status) => {\n    return statusOptions.find((s) => s.value === status)?.color || '#64748b';\n  };\n\n  const getStatusLabel = (status) => {\n    return statusOptions.find((s) => s.value === status)?.label || status;\n  };\n\n  const objectionMetrics = ['price', 'location', 'rules'].map((key) => {\n    const stats = objectionSuccess?.[key] || { yes: 0, no: 0 };\n    const total = stats.yes + stats.no;\n    const rate = total > 0 ? Math.round((stats.yes / total) * 100) : 0;\n    return {\n      key,\n      label: key === 'price' ? 'Price' : key === 'location' ? 'Location' : 'Rules',\n      yes: stats.yes,\n      no: stats.no,\n      rate,\n    };\n  });\n\n  return (\n    <div className=\"crm-container\" dir={isRTL ? 'rtl' : 'ltr'}>\n      {/* Financial Stats */}\n      <div className=\"mb-10\">\n        <h1 className=\"text-3xl font-black text-gray-900 mb-1\">Leads & Revenue</h1>\n        <p className=\"text-gray-500\">×ž×¢×§×‘ ××—×¨×™ ×”×ž×¨×” ×•×¨×•×•×—×™×•×ª ×”× ×›×¡×™× ×©×œ×š.</p>\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10\">\n        <FinancialStat\n          label=\"LTV ×ž×ž×•×¦×¢\"\n          value={financials?.avg_ltv ?? 'â‚ª0'}\n          trend=\"\"\n          icon={Users}\n        />\n        <FinancialStat\n          label=\"×™×—×¡ ×”×ž×¨×”\"\n          value={financials?.conversion_rate ?? '0%'}\n          trend=\"\"\n          icon={Target}\n        />\n        <FinancialStat\n          label=\"×¨×•×•×— ×ª×¤×¢×•×œ×™\"\n          value={financials?.projected_revenue ?? 'â‚ª0'}\n          trend=\"\"\n          icon={BarChart3}\n        />\n        <FinancialStat\n          label=\"×¢×œ×•×ª × ×™×§×™×•×Ÿ ×ž×ž×•×¦×¢×ª\"\n          value=\"â‚ª350\"\n          trend=\"-2%\"\n          icon={Activity}\n        />\n      </div>\n\n      {/* Header */}\n      <div className=\"crm-header\">\n        <div className=\"crm-title\">\n          <Users size={28} />\n          <div>\n            <h2>{t('leadsCRM.title')}</h2>\n            <p>{t('leadsCRM.leadCount', { count: filteredLeads.length })}</p>\n          </div>\n        </div>\n        <button\n          onClick={handleScanLeads}\n          disabled={isScanning}\n          className=\"btn-primary scan-btn\"\n        >\n          {isScanning ? (\n            <>\n              <Search size={18} className=\"animate-spin\" />\n              {t('common.scanning')}\n            </>\n          ) : (\n            <>\n              <Search size={18} />\n              {t('leadsCRM.scanNew')}\n            </>\n          )}\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"crm-filters glass-card\">\n        <div className=\"search-box\">\n          <Search size={18} />\n          <input\n            type=\"text\"\n            placeholder={t('leadsCRM.searchPlaceholder')}\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n        </div>\n        <div className=\"status-filters\">\n          {statusOptions.map((status) => (\n            <button\n              key={status.value}\n              onClick={() => setStatusFilter(status.value)}\n              className={`status-filter-btn ${\n                statusFilter === status.value ? 'active' : ''\n              }`}\n              style={{\n                '--status-color': status.color,\n              }}\n            >\n              {status.label}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* ×œ×™×“×™× ××—×¨×•× ×™× ×ž×”-Scraper */}\n      <div className=\"bg-white rounded-[40px] border border-gray-100 shadow-sm overflow-hidden mb-10\">\n        <div className=\"p-6 border-b border-gray-100 bg-gray-50/50\">\n          <h4 className=\"font-bold text-gray-800\">×œ×™×“×™× ××—×¨×•× ×™× ×ž×”-Scraper</h4>\n        </div>\n        {isLoadingLeads ? (\n          <div className=\"p-12 text-center text-gray-400\">×˜×•×¢×Ÿ ×œ×™×“×™×...</div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-right min-w-[500px]\">\n              <thead>\n                <tr className=\"text-gray-400 text-xs uppercase tracking-wider\">\n                  <th className=\"p-6\">×ž×§×•×¨</th>\n                  <th className=\"p-6\">×©× ×”× ×›×¡</th>\n                  <th className=\"p-6\">×¡×˜×˜×•×¡ ×”×ž×¨×”</th>\n                  <th className=\"p-6\">×¤×•×˜× ×¦×™××œ ×”×›× ×¡×”</th>\n                  <th className=\"p-6 w-0\" />\n                </tr>\n              </thead>\n              <tbody className=\"text-sm\">\n                {filteredLeads.slice(0, 10).map((lead) => (\n                  <tr\n                    key={lead.id}\n                    className=\"border-t border-gray-50 hover:bg-gray-50/50 transition-colors cursor-pointer\"\n                    onClick={() => setSelectedLead(lead)}\n                  >\n                    <td className=\"p-6 font-bold text-blue-600\">{lead.source || 'direct'}</td>\n                    <td className=\"p-6 text-gray-800\">{lead.name}</td>\n                    <td className=\"p-6\">\n                      <span\n                        className=\"px-3 py-1 rounded-full text-[10px] font-bold\"\n                        style={{\n                          backgroundColor: `${getStatusColor(lead.status)}20`,\n                          color: getStatusColor(lead.status),\n                        }}\n                      >\n                        {getStatusLabel(lead.status).toUpperCase()}\n                      </span>\n                    </td>\n                    <td className=\"p-6 font-black\">â‚ª{Number(lead.value || 0).toLocaleString()}</td>\n                    <td className=\"p-2\">\n                      <button\n                        type=\"button\"\n                        className=\"p-2 text-gray-400 hover:text-blue-600\"\n                        onClick={(e) => { e.stopPropagation(); setSelectedLead(lead); }}\n                      >\n                        <ArrowUpRight size={16} />\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n            {filteredLeads.length === 0 && (\n              <div className=\"p-12 text-center text-gray-400\">××™×Ÿ ×œ×™×“×™× ×œ×”×¦×’×”</div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Stats Row */}\n      <div className=\"crm-stats\">\n        <div className=\"crm-stat glass-card\">\n          <span className=\"stat-value text-gradient\">\n            {leadsWithFallback.filter((l) => l.status === 'new').length}\n          </span>\n          <span className=\"stat-label\">{t('leadsCRM.stats.newLeads')}</span>\n        </div>\n        <div className=\"crm-stat glass-card\">\n          <span className=\"stat-value\" style={{ color: '#f59e0b' }}>\n            {leadsWithFallback.filter((l) => l.status === 'contacted').length}\n          </span>\n          <span className=\"stat-label\">{t('leadsCRM.stats.inProgress')}</span>\n        </div>\n        <div className=\"crm-stat glass-card\">\n          <span className=\"stat-value\" style={{ color: '#8b5cf6' }}>\n            {leadsWithFallback.filter((l) => l.status === 'qualified').length}\n          </span>\n          <span className=\"stat-label\">{t('leadsCRM.stats.qualified')}</span>\n        </div>\n        <div className=\"crm-stat glass-card\">\n          <span className=\"stat-value\" style={{ color: '#10b981' }}>\n            â‚ª{leadsWithFallback.reduce((sum, l) => sum + l.value, 0).toLocaleString()}\n          </span>\n          <span className=\"stat-label\">{t('leadsCRM.stats.totalValue')}</span>\n        </div>\n        <div className=\"crm-stat glass-card\">\n          <span className=\"stat-value\" style={{ color: '#38bdf8' }}>\n            {automationStats?.automated_messages ?? 0}\n          </span>\n          <span className=\"stat-label\">AI Messages</span>\n        </div>\n      </div>\n\n      {/* Success Meter */}\n      <div className=\"success-meter glass-card\">\n        <div className=\"success-meter-header\">\n          <h3>Success Meter</h3>\n          <span className=\"success-meter-subtitle\">Objection conversion performance</span>\n        </div>\n        <div className=\"success-meter-grid\">\n          {objectionMetrics.map((metric) => (\n            <div key={metric.key} className=\"success-meter-item\">\n              <div className=\"success-meter-label\">\n                <span>{metric.label}</span>\n                <span>{metric.rate}%</span>\n              </div>\n              <div className=\"success-meter-bar\">\n                <span style={{ width: `${metric.rate}%` }} />\n              </div>\n              <div className=\"success-meter-meta\">\n                <span>Yes: {metric.yes}</span>\n                <span>No: {metric.no}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Leads Grid */}\n      <div className=\"leads-grid\">\n        {filteredLeads.map((lead) => (\n          <div\n            key={lead.id}\n            className=\"lead-card glass-card\"\n            onClick={() => setSelectedLead(lead)}\n          >\n              <div className=\"lead-card-header\">\n                <div\n                  className=\"lead-avatar\"\n                  style={{ backgroundImage: `url(${lead.photo})` }}\n                />\n                <div className=\"lead-header-info\">\n                  <span className=\"lead-name\">{lead.name}</span>\n                  <span className=\"lead-contact\">{lead.contact}</span>\n                </div>\n                <span\n                  className=\"lead-status\"\n                  style={{\n                    '--status-color': getStatusColor(lead.status),\n                    boxShadow: `0 0 16px ${getStatusColor(lead.status)}`,\n                  }}\n                >\n                  {getStatusLabel(lead.status)}\n                </span>\n              </div>\n\n              <div className=\"lead-card-body\">\n                <div className=\"lead-meta-grid\">\n                  <div className=\"lead-meta-item\">\n                    <span className=\"meta-label\">{t('leadsCRM.table.source')}</span>\n                    <span className=\"meta-value\">{sourceIcons[lead.source]} {lead.source}</span>\n                  </div>\n                  <div className=\"lead-meta-item\">\n                    <span className=\"meta-label\">{t('leadsCRM.table.value')}</span>\n                    <span className=\"meta-value\">â‚ª{lead.value.toLocaleString()} <span className=\"per-night\">{t('leadsCRM.perNight')}</span></span>\n                  </div>\n                  <div className=\"lead-meta-item\">\n                    <span className=\"meta-label\">{t('leadsCRM.table.rating')}</span>\n                    <span className=\"meta-value rating\">\n                      <Star size={14} fill=\"#fbbf24\" color=\"#fbbf24\" />\n                      {lead.rating}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"lead-card-actions\">\n                <button\n                  className=\"lead-action whatsapp\"\n                  title=\"WhatsApp\"\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  <MessageCircle size={16} />\n                </button>\n                <button\n                  className=\"lead-action call\"\n                  title={t('leadsCRM.actions.call')}\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  <Phone size={16} />\n                </button>\n              </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Lead Detail Modal */}\n      {selectedLead && (\n        <div\n          className=\"lead-modal-backdrop\"\n          onClick={() => setSelectedLead(null)}\n        >\n          <div\n            className=\"lead-modal glass-card\"\n            onClick={(e) => e.stopPropagation()}\n          >\n              <div className=\"lead-modal-header\">\n                <div className=\"lead-info\">\n                  <span className=\"source-icon large\">\n                    {sourceIcons[selectedLead.source]}\n                  </span>\n                  <div>\n                    <h3>{selectedLead.name}</h3>\n                    <p>{selectedLead.contact}</p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => setSelectedLead(null)}\n                  className=\"close-modal-btn\"\n                >\n                  Ã—\n                </button>\n              </div>\n\n              <div className=\"lead-modal-content\">\n                <div className=\"lead-details-grid\">\n                  <div className=\"detail-item\">\n                    <Mail size={18} />\n                    <div>\n                    <span className=\"label\">{t('leadsCRM.modal.email')}</span>\n                      <span className=\"value\">{selectedLead.email}</span>\n                    </div>\n                  </div>\n                  <div className=\"detail-item\">\n                    <Phone size={18} />\n                    <div>\n                  <span className=\"label\">{t('leadsCRM.modal.phone')}</span>\n                      <span className=\"value\">{selectedLead.phone}</span>\n                    </div>\n                  </div>\n                  <div className=\"detail-item\">\n                    <Globe size={18} />\n                    <div>\n                  <span className=\"label\">{t('leadsCRM.modal.source')}</span>\n                      <span className=\"value\">{selectedLead.source}</span>\n                    </div>\n                  </div>\n                  <div className=\"detail-item\">\n                    <Calendar size={18} />\n                    <div>\n                  <span className=\"label\">{t('leadsCRM.modal.createdAt')}</span>\n                      <span className=\"value\">\n                    {new Date(selectedLead.createdAt).toLocaleDateString(lang === 'he' ? 'he-IL' : lang === 'el' ? 'el-GR' : 'en-US')}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"lead-notes\">\n              <h4>{t('leadsCRM.modal.notes')}</h4>\n                  <p>{selectedLead.notes}</p>\n                </div>\n\n                <div className=\"lead-actions\">\n                  <button\n                    onClick={() => handleSendDemo(selectedLead)}\n                    className=\"btn-primary\"\n                  >\n                    <Mail size={18} />\n                  {t('leadsCRM.actions.sendDemo')}\n                  </button>\n                  <button className=\"btn-secondary\">\n                    <MessageCircle size={18} />\n                  {t('leadsCRM.modal.sendMessage')}\n                  </button>\n                </div>\n              </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LeadsCRM;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}