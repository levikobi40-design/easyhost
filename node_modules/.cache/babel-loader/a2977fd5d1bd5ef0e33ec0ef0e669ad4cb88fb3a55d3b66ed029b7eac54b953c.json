{"ast":null,"code":"import React,{useState}from'react';import{importProperty}from'../../services/api';import'./AirbnbImporter.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AirbnbImporter=_ref=>{let{onSuccess}=_ref;const[url,setUrl]=useState('');const[isScanning,setIsScanning]=useState(false);const[error,setError]=useState(null);const handleImport=async()=>{const raw=String(url).trim();if(raw.length<5)return;setIsScanning(true);setError(null);try{await importProperty(raw);setUrl('');if(typeof onSuccess==='function')onSuccess();}catch(e){console.error('Import failed',e);setError((e===null||e===void 0?void 0:e.message)||'ייבוא נכשל. נסה שוב.');}finally{setIsScanning(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"airbnb-importer relative overflow-hidden bg-white p-8 rounded-[40px] shadow-2xl border border-gray-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-black mb-4\",children:\"\\u05D9\\u05D9\\u05D1\\u05D5\\u05D0 \\u05E0\\u05DB\\u05E1 \\u05D1\\u05DC\\u05D7\\u05D9\\u05E6\\u05D4 \\u05D0\\u05D7\\u05EA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"flex-1 bg-gray-50 border-none rounded-2xl p-4 text-sm\",placeholder:\"\\u05D4\\u05D3\\u05D1\\u05E7 \\u05DC\\u05D9\\u05E0\\u05E7 \\u05DE-Airbnb \\u05DB\\u05D0\\u05DF...\",value:url,onChange:e=>setUrl(e.target.value),onKeyDown:e=>e.key==='Enter'&&handleImport(),disabled:isScanning}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleImport,disabled:isScanning||url.trim().length<5,className:\"airbnb-importer-btn bg-yellow-400 hover:bg-yellow-500 text-black font-bold px-8 rounded-2xl transition-all disabled:opacity-60 disabled:cursor-not-allowed\",children:isScanning?'סורק נכס...':'ייבוא'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-sm text-red-600\",children:error}),isScanning&&/*#__PURE__*/_jsx(\"div\",{className:\"scanning-laser-effect\",\"aria-hidden\":true})]});};export default AirbnbImporter;","map":{"version":3,"names":["React","useState","importProperty","jsx","_jsx","jsxs","_jsxs","AirbnbImporter","_ref","onSuccess","url","setUrl","isScanning","setIsScanning","error","setError","handleImport","raw","String","trim","length","e","console","message","className","children","type","placeholder","value","onChange","target","onKeyDown","key","disabled","onClick"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/components/dashboard/AirbnbImporter.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { importProperty } from '../../services/api';\nimport './AirbnbImporter.css';\n\nconst AirbnbImporter = ({ onSuccess }) => {\n  const [url, setUrl] = useState('');\n  const [isScanning, setIsScanning] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleImport = async () => {\n    const raw = String(url).trim();\n    if (raw.length < 5) return;\n\n    setIsScanning(true);\n    setError(null);\n    try {\n      await importProperty(raw);\n      setUrl('');\n      if (typeof onSuccess === 'function') onSuccess();\n    } catch (e) {\n      console.error('Import failed', e);\n      setError(e?.message || 'ייבוא נכשל. נסה שוב.');\n    } finally {\n      setIsScanning(false);\n    }\n  };\n\n  return (\n    <div className=\"airbnb-importer relative overflow-hidden bg-white p-8 rounded-[40px] shadow-2xl border border-gray-100\">\n      <h2 className=\"text-2xl font-black mb-4\">ייבוא נכס בלחיצה אחת</h2>\n      <div className=\"flex gap-4\">\n        <input\n          type=\"text\"\n          className=\"flex-1 bg-gray-50 border-none rounded-2xl p-4 text-sm\"\n          placeholder=\"הדבק לינק מ-Airbnb כאן...\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          onKeyDown={(e) => e.key === 'Enter' && handleImport()}\n          disabled={isScanning}\n        />\n        <button\n          type=\"button\"\n          onClick={handleImport}\n          disabled={isScanning || url.trim().length < 5}\n          className=\"airbnb-importer-btn bg-yellow-400 hover:bg-yellow-500 text-black font-bold px-8 rounded-2xl transition-all disabled:opacity-60 disabled:cursor-not-allowed\"\n        >\n          {isScanning ? 'סורק נכס...' : 'ייבוא'}\n        </button>\n      </div>\n      {error && <p className=\"mt-3 text-sm text-red-600\">{error}</p>}\n      {isScanning && <div className=\"scanning-laser-effect\" aria-hidden />}\n    </div>\n  );\n};\n\nexport default AirbnbImporter;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,cAAc,KAAQ,oBAAoB,CACnD,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,GAAG,CAAEC,MAAM,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACW,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACR,GAAG,CAAC,CAACS,IAAI,CAAC,CAAC,CAC9B,GAAIF,GAAG,CAACG,MAAM,CAAG,CAAC,CAAE,OAEpBP,aAAa,CAAC,IAAI,CAAC,CACnBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAb,cAAc,CAACe,GAAG,CAAC,CACzBN,MAAM,CAAC,EAAE,CAAC,CACV,GAAI,MAAO,CAAAF,SAAS,GAAK,UAAU,CAAEA,SAAS,CAAC,CAAC,CAClD,CAAE,MAAOY,CAAC,CAAE,CACVC,OAAO,CAACR,KAAK,CAAC,eAAe,CAAEO,CAAC,CAAC,CACjCN,QAAQ,CAAC,CAAAM,CAAC,SAADA,CAAC,iBAADA,CAAC,CAAEE,OAAO,GAAI,sBAAsB,CAAC,CAChD,CAAC,OAAS,CACRV,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACEP,KAAA,QAAKkB,SAAS,CAAC,wGAAwG,CAAAC,QAAA,eACrHrB,IAAA,OAAIoB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,2GAAoB,CAAI,CAAC,cAClEnB,KAAA,QAAKkB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBrB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXF,SAAS,CAAC,uDAAuD,CACjEG,WAAW,CAAC,uFAA2B,CACvCC,KAAK,CAAElB,GAAI,CACXmB,QAAQ,CAAGR,CAAC,EAAKV,MAAM,CAACU,CAAC,CAACS,MAAM,CAACF,KAAK,CAAE,CACxCG,SAAS,CAAGV,CAAC,EAAKA,CAAC,CAACW,GAAG,GAAK,OAAO,EAAIhB,YAAY,CAAC,CAAE,CACtDiB,QAAQ,CAAErB,UAAW,CACtB,CAAC,cACFR,IAAA,WACEsB,IAAI,CAAC,QAAQ,CACbQ,OAAO,CAAElB,YAAa,CACtBiB,QAAQ,CAAErB,UAAU,EAAIF,GAAG,CAACS,IAAI,CAAC,CAAC,CAACC,MAAM,CAAG,CAAE,CAC9CI,SAAS,CAAC,4JAA4J,CAAAC,QAAA,CAErKb,UAAU,CAAG,aAAa,CAAG,OAAO,CAC/B,CAAC,EACN,CAAC,CACLE,KAAK,eAAIV,IAAA,MAAGoB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEX,KAAK,CAAI,CAAC,CAC7DF,UAAU,eAAIR,IAAA,QAAKoB,SAAS,CAAC,uBAAuB,CAAC,kBAAW,CAAE,CAAC,EACjE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}