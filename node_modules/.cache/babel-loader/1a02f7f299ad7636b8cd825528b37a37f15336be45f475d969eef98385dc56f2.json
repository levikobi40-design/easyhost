{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\hotel_ai_assistant\\\\hotel_dashboard\\\\src\\\\components\\\\dashboard\\\\PremiumDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { CheckCircle, Clock, DollarSign, Activity, Home, Users, Phone } from 'lucide-react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } from 'recharts';\nimport { getDashboardSummary, getStatsSummary, getPropertyTasks, updatePropertyTaskStatus } from '../../services/api';\nimport StaffGrid from './StaffGrid';\nimport AirbnbImporter from './AirbnbImporter';\nimport GuestChatFeed from '../guest/GuestChatFeed';\nimport PropertyCreatorModal from './PropertyCreatorModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TASK_CHART_COLORS = ['#3b82f6', '#10b981'];\nconst PIE_COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899'];\nconst TaskTimeline = ({\n  tasks,\n  loading,\n  onMarkDone = () => {}\n}) => {\n  const mapStatus = s => {\n    if (!s) return 'pending';\n    if (s === 'Done' || s === 'done' || s === 'Completed' || s === 'completed') return 'completed';\n    return 'pending';\n  };\n  const formatTime = dueAt => {\n    if (!dueAt) return '—';\n    try {\n      const d = new Date(dueAt);\n      return d.toLocaleTimeString('he-IL', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return typeof dueAt === 'string' && dueAt.length >= 16 ? dueAt.slice(11, 16) : '—';\n    }\n  };\n  const list = Array.isArray(tasks) ? tasks.slice(0, 8) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-gray-800 dark:text-gray-100\",\n        children: \"\\u05E6\\u05D9\\u05E8 \\u05D6\\u05DE\\u05DF \\u05EA\\u05E4\\u05E2\\u05D5\\u05DC\\u05D9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"px-3 py-1 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-semibold rounded-full\",\n        children: \"LIVE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-8 text-center text-gray-400 dark:text-gray-500\",\n      children: \"\\u05D8\\u05D5\\u05E2\\u05DF...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this) : list.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-8 text-center text-gray-400 dark:text-gray-500\",\n      children: \"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05DB\\u05E8\\u05D2\\u05E2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: list.map((task, index) => {\n        const status = mapStatus(task.status);\n        const displayName = task.property_name || task.room || 'נכס';\n        const timeStr = formatTime(task.due_at || task.created_at);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex gap-4\",\n          children: [index !== list.length - 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-8 right-4 w-0.5 h-12 bg-gray-100 dark:bg-gray-600\",\n            \"aria-hidden\": true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `z-10 w-8 h-8 rounded-full flex items-center justify-center ${status === 'completed' ? 'bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400' : 'bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400'}`,\n            children: status === 'completed' ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 45\n            }, this) : /*#__PURE__*/_jsxDEV(Clock, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 73\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-bold text-gray-800 dark:text-gray-200 truncate\",\n                children: displayName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400 dark:text-gray-500 shrink-0\",\n                children: timeStr\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 dark:text-gray-400\",\n              children: [task.staff_name || '—', task.staff_phone && /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `tel:${task.staff_phone.replace(/\\D/g, '')}`,\n                className: \"mr-2 text-blue-600 dark:text-blue-400 hover:underline\",\n                children: task.staff_phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this), task.status !== 'Done' && onMarkDone && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => onMarkDone(task.id),\n              className: \"mt-2 inline-flex items-center gap-1 text-xs font-medium text-green-600 dark:text-green-400 hover:underline\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 23\n              }, this), \"\\u05E1\\u05DE\\u05DF \\u05DB\\u05D4\\u05D5\\u05E9\\u05DC\\u05DD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_c = TaskTimeline;\nconst KPICard = ({\n  title,\n  value,\n  icon: Icon,\n  color\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-white dark:bg-gray-800 p-6 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm flex items-center gap-4\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: `w-12 h-12 rounded-2xl flex items-center justify-center ${color}`,\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      size: 24\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xs text-gray-500 dark:text-gray-400 font-medium\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-2xl font-black text-gray-800 dark:text-gray-100\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 108,\n  columnNumber: 3\n}, this);\n_c2 = KPICard;\nconst QuickActionStaff = ({\n  topStaff\n}) => {\n  const callPhone = phone => {\n    if (!phone) return;\n    window.location.href = `tel:${phone.replace(/\\D/g, '')}`;\n  };\n  if (!(topStaff !== null && topStaff !== void 0 && topStaff.length)) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(Phone, {\n        size: 20,\n        className: \"text-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), \"\\u05E7\\u05E9\\u05E8 \\u05DE\\u05D4\\u05D9\\u05E8\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: topStaff.map((s, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center p-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium text-gray-800 dark:text-gray-200\",\n          children: s.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `tel:${(s.phone || '').replace(/\\D/g, '')}`,\n          onClick: e => {\n            e.preventDefault();\n            callPhone(s.phone);\n          },\n          className: \"text-blue-600 dark:text-blue-400 font-medium text-sm hover:underline\",\n          children: s.phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n_c3 = QuickActionStaff;\nexport default function PremiumDashboard() {\n  _s();\n  var _summary$revenue, _stats$total_properti, _stats$total_capacity, _stats$tasks_by_statu, _stats$tasks_by_statu2;\n  const [summary, setSummary] = useState(null);\n  const [stats, setStats] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [importSuccess, setImportSuccess] = useState(0);\n  const [showPropertyModal, setShowPropertyModal] = useState(false);\n  useEffect(() => {\n    let mounted = true;\n    const load = async () => {\n      setLoading(true);\n      try {\n        const [s, st, t] = await Promise.all([getDashboardSummary(), getStatsSummary(), getPropertyTasks()]);\n        if (mounted) {\n          setSummary(s);\n          setStats(st);\n          setTasks(Array.isArray(t) ? t : []);\n        }\n      } catch (e) {\n        if (mounted) {\n          setSummary({\n            revenue: '0₪',\n            active_tasks_count: 0,\n            status: 'Unavailable'\n          });\n          setStats({\n            total_properties: 0,\n            tasks_by_status: {\n              Pending: 0,\n              Done: 0\n            },\n            staff_workload: {},\n            total_capacity: 0,\n            top_staff: []\n          });\n          setTasks([]);\n        }\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    load();\n    return () => {\n      mounted = false;\n    };\n  }, [importSuccess]);\n  const tasksByStatusData = stats !== null && stats !== void 0 && stats.tasks_by_status ? [{\n    name: 'ממתינות',\n    value: stats.tasks_by_status.Pending || 0,\n    fill: TASK_CHART_COLORS[0]\n  }, {\n    name: 'הושלמו',\n    value: stats.tasks_by_status.Done || 0,\n    fill: TASK_CHART_COLORS[1]\n  }] : [];\n  const handleMarkDone = useCallback(async taskId => {\n    try {\n      await updatePropertyTaskStatus(taskId, 'Done');\n      setTasks(prev => prev.map(t => t.id === taskId ? {\n        ...t,\n        status: 'Done'\n      } : t));\n    } catch (e) {\n      window.alert((e === null || e === void 0 ? void 0 : e.message) || 'Failed to update');\n    }\n  }, []);\n  const staffWorkloadData = stats !== null && stats !== void 0 && stats.staff_workload ? Object.entries(stats.staff_workload).sort((a, b) => b[1] - a[1]).slice(0, 5).map(([name, count], i) => ({\n    name: name.length > 10 ? name.slice(0, 8) + '…' : name,\n    fullName: name,\n    tasks: count,\n    fill: PIE_COLORS[i % PIE_COLORS.length]\n  })) : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900 p-8\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-end mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-black text-gray-900 dark:text-white\",\n          children: \"\\u05D1\\u05D5\\u05E7\\u05E8 \\u05D8\\u05D5\\u05D1, \\u05DE\\u05E0\\u05D4\\u05DC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 dark:text-gray-400\",\n          children: \"\\u05DB\\u05DC \\u05D4\\u05E0\\u05DB\\u05E1\\u05D9\\u05DD \\u05E9\\u05DC\\u05DA \\u05EA\\u05D7\\u05EA \\u05E9\\u05DC\\u05D9\\u05D8\\u05D4. \\u05D4\\u05E0\\u05D4 \\u05DE\\u05D4 \\u05E9\\u05E7\\u05D5\\u05E8\\u05D4 \\u05D4\\u05D9\\u05D5\\u05DD.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowPropertyModal(true),\n        className: \"bg-black dark:bg-white text-white dark:text-gray-900 px-6 py-3 rounded-2xl font-bold hover:opacity-90 transition-all\",\n        children: \"+ \\u05D4\\u05D5\\u05E1\\u05E3 \\u05E0\\u05DB\\u05E1 \\u05D7\\u05D3\\u05E9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\",\n      children: [/*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05D4\\u05DB\\u05E0\\u05E1\\u05D5\\u05EA \\u05D4\\u05D7\\u05D5\\u05D3\\u05E9\",\n        value: (_summary$revenue = summary === null || summary === void 0 ? void 0 : summary.revenue) !== null && _summary$revenue !== void 0 ? _summary$revenue : '₪0',\n        icon: DollarSign,\n        color: \"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05E0\\u05DB\\u05E1\\u05D9\\u05DD\",\n        value: String((_stats$total_properti = stats === null || stats === void 0 ? void 0 : stats.total_properties) !== null && _stats$total_properti !== void 0 ? _stats$total_properti : 0),\n        icon: Home,\n        color: \"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05E7\\u05D9\\u05D1\\u05D5\\u05DC\\u05EA \\u05DB\\u05D5\\u05DC\\u05DC\\u05EA\",\n        value: String((_stats$total_capacity = stats === null || stats === void 0 ? void 0 : stats.total_capacity) !== null && _stats$total_capacity !== void 0 ? _stats$total_capacity : 0),\n        icon: Users,\n        color: \"bg-violet-50 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(KPICard, {\n        title: \"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05E4\\u05E2\\u05D9\\u05DC\\u05D5\\u05EA\",\n        value: String((_stats$tasks_by_statu = stats === null || stats === void 0 ? void 0 : (_stats$tasks_by_statu2 = stats.tasks_by_status) === null || _stats$tasks_by_statu2 === void 0 ? void 0 : _stats$tasks_by_statu2.Pending) !== null && _stats$tasks_by_statu !== void 0 ? _stats$tasks_by_statu : 0),\n        icon: Activity,\n        color: \"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lg:col-span-2 space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(AirbnbImporter, {\n          onSuccess: () => setImportSuccess(n => n + 1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 min-h-[280px]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4\",\n              children: \"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05DC\\u05E4\\u05D9 \\u05E1\\u05D8\\u05D8\\u05D5\\u05E1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), tasksByStatusData.some(d => d.value > 0) ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 200,\n              children: /*#__PURE__*/_jsxDEV(BarChart, {\n                data: tasksByStatusData,\n                layout: \"vertical\",\n                margin: {\n                  top: 5,\n                  right: 20,\n                  left: 0,\n                  bottom: 5\n                },\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\",\n                  stroke: \"#e5e7eb\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  type: \"number\",\n                  stroke: \"#6b7280\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  type: \"category\",\n                  dataKey: \"name\",\n                  width: 70,\n                  stroke: \"#6b7280\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  contentStyle: {\n                    backgroundColor: 'rgba(255,255,255,0.95)',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: 8\n                  },\n                  formatter: value => [value, 'משימות']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"value\",\n                  name: \"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA\",\n                  radius: [0, 4, 4, 0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\",\n              children: \"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 min-h-[280px]\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4\",\n              children: \"\\u05E2\\u05D5\\u05DE\\u05E1 \\u05E2\\u05D5\\u05D1\\u05D3\\u05D9\\u05DD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), staffWorkloadData.length > 0 ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 200,\n              children: /*#__PURE__*/_jsxDEV(PieChart, {\n                children: [/*#__PURE__*/_jsxDEV(Pie, {\n                  data: staffWorkloadData,\n                  dataKey: \"tasks\",\n                  nameKey: \"fullName\",\n                  cx: \"50%\",\n                  cy: \"50%\",\n                  outerRadius: 70,\n                  label: ({\n                    fullName,\n                    tasks: t\n                  }) => `${fullName}: ${t}`,\n                  children: staffWorkloadData.map((entry, i) => /*#__PURE__*/_jsxDEV(Cell, {\n                    fill: entry.fill\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  formatter: (v, n, props) => [`${props.payload.fullName}: ${v} משימות`, '']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\",\n              children: \"\\u05D0\\u05D9\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9\\u05DD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StaffGrid, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [/*#__PURE__*/_jsxDEV(TaskTimeline, {\n          tasks: tasks,\n          loading: loading,\n          onMarkDone: async taskId => {\n            try {\n              await updatePropertyTaskStatus(taskId, 'Done');\n              setTasks(prev => prev.map(t => t.id === taskId ? {\n                ...t,\n                status: 'Done'\n              } : t));\n            } catch (e) {\n              window.alert((e === null || e === void 0 ? void 0 : e.message) || 'Failed to update');\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(QuickActionStaff, {\n          topStaff: stats === null || stats === void 0 ? void 0 : stats.top_staff\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GuestChatFeed, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PropertyCreatorModal, {\n      isOpen: showPropertyModal,\n      onClose: () => setShowPropertyModal(false),\n      onSuccess: () => setImportSuccess(n => n + 1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n}\n_s(PremiumDashboard, \"IvNbGMWgCj3d5wsN+YIiN1J/gpg=\");\n_c4 = PremiumDashboard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"TaskTimeline\");\n$RefreshReg$(_c2, \"KPICard\");\n$RefreshReg$(_c3, \"QuickActionStaff\");\n$RefreshReg$(_c4, \"PremiumDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","CheckCircle","Clock","DollarSign","Activity","Home","Users","Phone","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","PieChart","Pie","Cell","Legend","getDashboardSummary","getStatsSummary","getPropertyTasks","updatePropertyTaskStatus","StaffGrid","AirbnbImporter","GuestChatFeed","PropertyCreatorModal","jsxDEV","_jsxDEV","TASK_CHART_COLORS","PIE_COLORS","TaskTimeline","tasks","loading","onMarkDone","mapStatus","s","formatTime","dueAt","d","Date","toLocaleTimeString","hour","minute","length","slice","list","Array","isArray","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","task","index","status","displayName","property_name","room","timeStr","due_at","created_at","size","staff_name","staff_phone","href","replace","type","onClick","id","_c","KPICard","title","value","icon","Icon","color","_c2","QuickActionStaff","topStaff","callPhone","phone","window","location","i","name","e","preventDefault","_c3","PremiumDashboard","_s","_summary$revenue","_stats$total_properti","_stats$total_capacity","_stats$tasks_by_statu","_stats$tasks_by_statu2","summary","setSummary","stats","setStats","setTasks","setLoading","importSuccess","setImportSuccess","showPropertyModal","setShowPropertyModal","mounted","load","st","t","Promise","all","revenue","active_tasks_count","total_properties","tasks_by_status","Pending","Done","staff_workload","total_capacity","top_staff","tasksByStatusData","fill","handleMarkDone","taskId","prev","alert","message","staffWorkloadData","Object","entries","sort","a","b","count","fullName","dir","String","onSuccess","n","some","width","height","data","layout","margin","top","right","left","bottom","strokeDasharray","stroke","dataKey","contentStyle","backgroundColor","border","borderRadius","formatter","radius","nameKey","cx","cy","outerRadius","label","entry","v","props","payload","isOpen","onClose","_c4","$RefreshReg$"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/components/dashboard/PremiumDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { CheckCircle, Clock, DollarSign, Activity, Home, Users, Phone } from 'lucide-react';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n} from 'recharts';\nimport { getDashboardSummary, getStatsSummary, getPropertyTasks, updatePropertyTaskStatus } from '../../services/api';\nimport StaffGrid from './StaffGrid';\nimport AirbnbImporter from './AirbnbImporter';\nimport GuestChatFeed from '../guest/GuestChatFeed';\nimport PropertyCreatorModal from './PropertyCreatorModal';\n\nconst TASK_CHART_COLORS = ['#3b82f6', '#10b981'];\nconst PIE_COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899'];\n\nconst TaskTimeline = ({ tasks, loading, onMarkDone = () => {} }) => {\n  const mapStatus = (s) => {\n    if (!s) return 'pending';\n    if (s === 'Done' || s === 'done' || s === 'Completed' || s === 'completed') return 'completed';\n    return 'pending';\n  };\n\n  const formatTime = (dueAt) => {\n    if (!dueAt) return '—';\n    try {\n      const d = new Date(dueAt);\n      return d.toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit' });\n    } catch {\n      return typeof dueAt === 'string' && dueAt.length >= 16 ? dueAt.slice(11, 16) : '—';\n    }\n  };\n\n  const list = Array.isArray(tasks) ? tasks.slice(0, 8) : [];\n\n  return (\n    <div className=\"p-6 bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h3 className=\"text-xl font-bold text-gray-800 dark:text-gray-100\">ציר זמן תפעולי</h3>\n        <span className=\"px-3 py-1 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs font-semibold rounded-full\">LIVE</span>\n      </div>\n      {loading ? (\n        <div className=\"py-8 text-center text-gray-400 dark:text-gray-500\">טוען...</div>\n      ) : list.length === 0 ? (\n        <div className=\"py-8 text-center text-gray-400 dark:text-gray-500\">אין משימות כרגע</div>\n      ) : (\n        <div className=\"space-y-6\">\n          {list.map((task, index) => {\n            const status = mapStatus(task.status);\n            const displayName = task.property_name || task.room || 'נכס';\n            const timeStr = formatTime(task.due_at || task.created_at);\n            return (\n              <div key={task.id} className=\"relative flex gap-4\">\n                {index !== list.length - 1 && (\n                  <div className=\"absolute top-8 right-4 w-0.5 h-12 bg-gray-100 dark:bg-gray-600\" aria-hidden />\n                )}\n                <div\n                  className={`z-10 w-8 h-8 rounded-full flex items-center justify-center ${\n                    status === 'completed'\n                      ? 'bg-green-100 dark:bg-green-900/50 text-green-600 dark:text-green-400'\n                      : 'bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400'\n                  }`}\n                >\n                  {status === 'completed' ? <CheckCircle size={16} /> : <Clock size={16} />}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex justify-between items-start gap-2\">\n                    <p className=\"text-sm font-bold text-gray-800 dark:text-gray-200 truncate\">{displayName}</p>\n                    <span className=\"text-xs text-gray-400 dark:text-gray-500 shrink-0\">{timeStr}</span>\n                  </div>\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    {task.staff_name || '—'}\n                    {task.staff_phone && (\n                      <a href={`tel:${task.staff_phone.replace(/\\D/g, '')}`} className=\"mr-2 text-blue-600 dark:text-blue-400 hover:underline\">\n                        {task.staff_phone}\n                      </a>\n                    )}\n                  </p>\n                  {task.status !== 'Done' && onMarkDone && (\n                    <button\n                      type=\"button\"\n                      onClick={() => onMarkDone(task.id)}\n                      className=\"mt-2 inline-flex items-center gap-1 text-xs font-medium text-green-600 dark:text-green-400 hover:underline\"\n                    >\n                      <CheckCircle size={14} />\n                      סמן כהושלם\n                    </button>\n                  )}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst KPICard = ({ title, value, icon: Icon, color }) => (\n  <div className=\"bg-white dark:bg-gray-800 p-6 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm flex items-center gap-4\">\n    <div className={`w-12 h-12 rounded-2xl flex items-center justify-center ${color}`}>\n      <Icon size={24} />\n    </div>\n    <div>\n      <p className=\"text-xs text-gray-500 dark:text-gray-400 font-medium\">{title}</p>\n      <h4 className=\"text-2xl font-black text-gray-800 dark:text-gray-100\">{value}</h4>\n    </div>\n  </div>\n);\n\nconst QuickActionStaff = ({ topStaff }) => {\n  const callPhone = (phone) => {\n    if (!phone) return;\n    window.location.href = `tel:${phone.replace(/\\D/g, '')}`;\n  };\n  if (!topStaff?.length) return null;\n  return (\n    <div className=\"p-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm\">\n      <h3 className=\"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2\">\n        <Phone size={20} className=\"text-blue-500\" />\n        קשר מהיר\n      </h3>\n      <div className=\"space-y-3\">\n        {topStaff.map((s, i) => (\n          <div\n            key={i}\n            className=\"flex justify-between items-center p-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n          >\n            <span className=\"font-medium text-gray-800 dark:text-gray-200\">{s.name}</span>\n            <a\n              href={`tel:${(s.phone || '').replace(/\\D/g, '')}`}\n              onClick={(e) => { e.preventDefault(); callPhone(s.phone); }}\n              className=\"text-blue-600 dark:text-blue-400 font-medium text-sm hover:underline\"\n            >\n              {s.phone}\n            </a>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default function PremiumDashboard() {\n  const [summary, setSummary] = useState(null);\n  const [stats, setStats] = useState(null);\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [importSuccess, setImportSuccess] = useState(0);\n  const [showPropertyModal, setShowPropertyModal] = useState(false);\n\n  useEffect(() => {\n    let mounted = true;\n    const load = async () => {\n      setLoading(true);\n      try {\n        const [s, st, t] = await Promise.all([\n          getDashboardSummary(),\n          getStatsSummary(),\n          getPropertyTasks(),\n        ]);\n        if (mounted) {\n          setSummary(s);\n          setStats(st);\n          setTasks(Array.isArray(t) ? t : []);\n        }\n      } catch (e) {\n        if (mounted) {\n          setSummary({ revenue: '0₪', active_tasks_count: 0, status: 'Unavailable' });\n          setStats({ total_properties: 0, tasks_by_status: { Pending: 0, Done: 0 }, staff_workload: {}, total_capacity: 0, top_staff: [] });\n          setTasks([]);\n        }\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    load();\n    return () => { mounted = false; };\n  }, [importSuccess]);\n\n  const tasksByStatusData = stats?.tasks_by_status\n    ? [\n        { name: 'ממתינות', value: stats.tasks_by_status.Pending || 0, fill: TASK_CHART_COLORS[0] },\n        { name: 'הושלמו', value: stats.tasks_by_status.Done || 0, fill: TASK_CHART_COLORS[1] },\n      ]\n    : [];\n  const handleMarkDone = useCallback(async (taskId) => {\n    try {\n      await updatePropertyTaskStatus(taskId, 'Done');\n      setTasks((prev) => prev.map((t) => (t.id === taskId ? { ...t, status: 'Done' } : t)));\n    } catch (e) {\n      window.alert(e?.message || 'Failed to update');\n    }\n  }, []);\n\n  const staffWorkloadData = stats?.staff_workload\n    ? Object.entries(stats.staff_workload)\n        .sort((a, b) => b[1] - a[1])\n        .slice(0, 5)\n        .map(([name, count], i) => ({\n          name: name.length > 10 ? name.slice(0, 8) + '…' : name,\n          fullName: name,\n          tasks: count,\n          fill: PIE_COLORS[i % PIE_COLORS.length],\n        }))\n    : [];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-8\" dir=\"rtl\">\n      <div className=\"flex justify-between items-end mb-10\">\n        <div>\n          <h1 className=\"text-3xl font-black text-gray-900 dark:text-white\">בוקר טוב, מנהל</h1>\n          <p className=\"text-gray-500 dark:text-gray-400\">כל הנכסים שלך תחת שליטה. הנה מה שקורה היום.</p>\n        </div>\n        <button\n          type=\"button\"\n          onClick={() => setShowPropertyModal(true)}\n          className=\"bg-black dark:bg-white text-white dark:text-gray-900 px-6 py-3 rounded-2xl font-bold hover:opacity-90 transition-all\"\n        >\n          + הוסף נכס חדש\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\">\n        <KPICard\n          title=\"הכנסות החודש\"\n          value={summary?.revenue ?? '₪0'}\n          icon={DollarSign}\n          color=\"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400\"\n        />\n        <KPICard\n          title=\"נכסים\"\n          value={String(stats?.total_properties ?? 0)}\n          icon={Home}\n          color=\"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400\"\n        />\n        <KPICard\n          title=\"קיבולת כוללת\"\n          value={String(stats?.total_capacity ?? 0)}\n          icon={Users}\n          color=\"bg-violet-50 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400\"\n        />\n        <KPICard\n          title=\"משימות פעילות\"\n          value={String(stats?.tasks_by_status?.Pending ?? 0)}\n          icon={Activity}\n          color=\"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400\"\n        />\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className=\"lg:col-span-2 space-y-8\">\n          <AirbnbImporter onSuccess={() => setImportSuccess((n) => n + 1)} />\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 min-h-[280px]\">\n              <h3 className=\"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4\">משימות לפי סטטוס</h3>\n              {tasksByStatusData.some((d) => d.value > 0) ? (\n                <ResponsiveContainer width=\"100%\" height={200}>\n                  <BarChart data={tasksByStatusData} layout=\"vertical\" margin={{ top: 5, right: 20, left: 0, bottom: 5 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                    <XAxis type=\"number\" stroke=\"#6b7280\" />\n                    <YAxis type=\"category\" dataKey=\"name\" width={70} stroke=\"#6b7280\" />\n                    <Tooltip\n                      contentStyle={{ backgroundColor: 'rgba(255,255,255,0.95)', border: '1px solid #e5e7eb', borderRadius: 8 }}\n                      formatter={(value) => [value, 'משימות']}\n                    />\n                    <Bar dataKey=\"value\" name=\"משימות\" radius={[0, 4, 4, 0]} />\n                  </BarChart>\n                </ResponsiveContainer>\n              ) : (\n                <div className=\"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\">אין משימות</div>\n              )}\n            </div>\n            <div className=\"bg-white dark:bg-gray-800 rounded-3xl border border-gray-100 dark:border-gray-700 shadow-sm p-6 min-h-[280px]\">\n              <h3 className=\"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4\">עומס עובדים</h3>\n              {staffWorkloadData.length > 0 ? (\n                <ResponsiveContainer width=\"100%\" height={200}>\n                  <PieChart>\n                    <Pie\n                      data={staffWorkloadData}\n                      dataKey=\"tasks\"\n                      nameKey=\"fullName\"\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      outerRadius={70}\n                      label={({ fullName, tasks: t }) => `${fullName}: ${t}`}\n                    >\n                      {staffWorkloadData.map((entry, i) => (\n                        <Cell key={i} fill={entry.fill} />\n                      ))}\n                    </Pie>\n                    <Tooltip formatter={(v, n, props) => [`${props.payload.fullName}: ${v} משימות`, '']} />\n                    <Legend />\n                  </PieChart>\n                </ResponsiveContainer>\n              ) : (\n                <div className=\"h-[200px] flex items-center justify-center text-gray-400 dark:text-gray-500\">אין נתונים</div>\n              )}\n            </div>\n          </div>\n          <StaffGrid />\n        </div>\n        <div className=\"space-y-8\">\n          <TaskTimeline\n            tasks={tasks}\n            loading={loading}\n            onMarkDone={async (taskId) => {\n              try {\n                await updatePropertyTaskStatus(taskId, 'Done');\n                setTasks((prev) => prev.map((t) => (t.id === taskId ? { ...t, status: 'Done' } : t)));\n              } catch (e) {\n                window.alert(e?.message || 'Failed to update');\n              }\n            }}\n          />\n          <QuickActionStaff topStaff={stats?.top_staff} />\n          <GuestChatFeed />\n        </div>\n      </div>\n\n      <PropertyCreatorModal\n        isOpen={showPropertyModal}\n        onClose={() => setShowPropertyModal(false)}\n        onSuccess={() => setImportSuccess((n) => n + 1)}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}