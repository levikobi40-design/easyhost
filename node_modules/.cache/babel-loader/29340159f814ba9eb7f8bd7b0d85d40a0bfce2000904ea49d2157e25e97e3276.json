{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\hotel_ai_assistant\\\\hotel_dashboard\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, Suspense } from 'react';\nimport useTranslations from './hooks/useTranslations';\nimport useStore from './store/useStore';\nimport { getDemoAuthToken } from './services/api';\nimport { wsService } from './services/websocket';\nimport './styles/tailwind.css';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HostShell = /*#__PURE__*/React.lazy(_c = () => import('./views/HostShell'));\n_c2 = HostShell;\nconst OperatorShell = /*#__PURE__*/React.lazy(_c3 = () => import('./views/OperatorShell'));\n_c4 = OperatorShell;\nconst FieldShell = /*#__PURE__*/React.lazy(_c5 = () => import('./views/FieldShell'));\n_c6 = FieldShell;\nfunction App() {\n  _s();\n  const {\n    lang,\n    activeTenantId,\n    authToken,\n    setAuthToken,\n    role,\n    hasHydrated\n  } = useStore();\n  const {\n    i18n\n  } = useTranslations();\n  const isRTL = lang === 'he';\n  useEffect(() => {\n    // Connect to WebSocket on mount\n    wsService.connect();\n    return () => {\n      wsService.disconnect();\n    };\n  }, []);\n  useEffect(() => {\n    const ensureAuth = async () => {\n      if (authToken) return;\n      try {\n        const result = await getDemoAuthToken(activeTenantId);\n        setAuthToken(result.token);\n      } catch (error) {\n        console.error('Failed to obtain demo token:', error);\n      }\n    };\n    ensureAuth();\n  }, [activeTenantId, authToken, setAuthToken]);\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n    if (typeof document !== 'undefined') {\n      document.documentElement.dir = isRTL ? 'rtl' : 'ltr';\n      document.documentElement.lang = lang;\n    }\n  }, [i18n, isRTL, lang]);\n  if (!hasHydrated) {\n    return null;\n  }\n  const renderRoleShell = () => {\n    switch (role) {\n      case 'operator':\n        return /*#__PURE__*/_jsxDEV(OperatorShell, {}, \"operator-shell\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 16\n        }, this);\n      case 'field':\n        return /*#__PURE__*/_jsxDEV(FieldShell, {}, \"field-shell\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 16\n        }, this);\n      case 'host':\n      default:\n        return /*#__PURE__*/_jsxDEV(HostShell, {}, \"host-shell\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    dir: isRTL ? 'rtl' : 'ltr',\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: null,\n      children: renderRoleShell()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Rppitu7tZlHGM84PzVgoLy/umy0=\", false, function () {\n  return [useStore, useTranslations];\n});\n_c7 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"HostShell$React.lazy\");\n$RefreshReg$(_c2, \"HostShell\");\n$RefreshReg$(_c3, \"OperatorShell$React.lazy\");\n$RefreshReg$(_c4, \"OperatorShell\");\n$RefreshReg$(_c5, \"FieldShell$React.lazy\");\n$RefreshReg$(_c6, \"FieldShell\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"names":["React","useEffect","Suspense","useTranslations","useStore","getDemoAuthToken","wsService","jsxDEV","_jsxDEV","HostShell","lazy","_c","_c2","OperatorShell","_c3","_c4","FieldShell","_c5","_c6","App","_s","lang","activeTenantId","authToken","setAuthToken","role","hasHydrated","i18n","isRTL","connect","disconnect","ensureAuth","result","token","error","console","changeLanguage","document","documentElement","dir","renderRoleShell","fileName","_jsxFileName","lineNumber","columnNumber","children","fallback","_c7","$RefreshReg$"],"sources":["C:/Users/user/Desktop/hotel_ai_assistant/hotel_dashboard/src/App.js"],"sourcesContent":["import React, { useEffect, Suspense } from 'react';\nimport useTranslations from './hooks/useTranslations';\nimport useStore from './store/useStore';\nimport { getDemoAuthToken } from './services/api';\nimport { wsService } from './services/websocket';\nimport './styles/tailwind.css';\nimport './App.css';\nconst HostShell = React.lazy(() => import('./views/HostShell'));\nconst OperatorShell = React.lazy(() => import('./views/OperatorShell'));\nconst FieldShell = React.lazy(() => import('./views/FieldShell'));\n\nfunction App() {\n  const { lang, activeTenantId, authToken, setAuthToken, role, hasHydrated } = useStore();\n  const { i18n } = useTranslations();\n  const isRTL = lang === 'he';\n\n  useEffect(() => {\n    // Connect to WebSocket on mount\n    wsService.connect();\n    \n    return () => {\n      wsService.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    const ensureAuth = async () => {\n      if (authToken) return;\n      try {\n        const result = await getDemoAuthToken(activeTenantId);\n        setAuthToken(result.token);\n      } catch (error) {\n        console.error('Failed to obtain demo token:', error);\n      }\n    };\n    ensureAuth();\n  }, [activeTenantId, authToken, setAuthToken]);\n\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n    if (typeof document !== 'undefined') {\n      document.documentElement.dir = isRTL ? 'rtl' : 'ltr';\n      document.documentElement.lang = lang;\n    }\n  }, [i18n, isRTL, lang]);\n\n  if (!hasHydrated) {\n    return null;\n  }\n\n  const renderRoleShell = () => {\n    switch (role) {\n      case 'operator':\n        return <OperatorShell key=\"operator-shell\" />;\n      case 'field':\n        return <FieldShell key=\"field-shell\" />;\n      case 'host':\n      default:\n        return <HostShell key=\"host-shell\" />;\n    }\n  };\n\n  return (\n    <div dir={isRTL ? 'rtl' : 'ltr'}>\n      <Suspense fallback={null}>\n        {renderRoleShell()}\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}